(function(){"use strict";var __TAGS_CACHE=[];var __TAG_IMPL={};var GLOBAL_MIXIN="__global_mixin";var ATTRS_PREFIX="riot-";var REF_DIRECTIVES=["ref","data-ref"];var IS_DIRECTIVE="data-is";var CONDITIONAL_DIRECTIVE="if";var LOOP_DIRECTIVE="each";var LOOP_NO_REORDER_DIRECTIVE="no-reorder";var SHOW_DIRECTIVE="show";var HIDE_DIRECTIVE="hide";var T_STRING="string";var T_OBJECT="object";var T_UNDEF="undefined";var T_FUNCTION="function";var XLINK_NS="http://www.w3.org/1999/xlink";var XLINK_REGEX=/^xlink:(\w+)/;var WIN=typeof window===T_UNDEF?undefined:window;var RE_SPECIAL_TAGS=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;var RE_SPECIAL_TAGS_NO_OPTION=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;var RE_RESERVED_NAMES=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/;var RE_SVG_TAGS=/^(altGlyph|animate(?:Color)?|circle|clipPath|defs|ellipse|fe(?:Blend|ColorMatrix|ComponentTransfer|Composite|ConvolveMatrix|DiffuseLighting|DisplacementMap|Flood|GaussianBlur|Image|Merge|Morphology|Offset|SpecularLighting|Tile|Turbulence)|filter|font|foreignObject|g(?:lyph)?(?:Ref)?|image|line(?:arGradient)?|ma(?:rker|sk)|missing-glyph|path|pattern|poly(?:gon|line)|radialGradient|rect|stop|svg|switch|symbol|text(?:Path)?|tref|tspan|use)$/;var RE_HTML_ATTRS=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;var CASE_SENSITIVE_ATTRIBUTES={viewbox:"viewBox"};var RE_BOOL_ATTRS=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;var IE_VERSION=(WIN&&WIN.document||{}).documentMode|0;function isSVGTag(name){return RE_SVG_TAGS.test(name)}function isBoolAttr(value){return RE_BOOL_ATTRS.test(value)}function isFunction(value){return typeof value===T_FUNCTION}function isObject(value){return value&&typeof value===T_OBJECT}function isUndefined(value){return typeof value===T_UNDEF}function isString(value){return typeof value===T_STRING}function isBlank(value){return isUndefined(value)||value===null||value===""}function isArray(value){return Array.isArray(value)||value instanceof Array}function isWritable(obj,key){var descriptor=Object.getOwnPropertyDescriptor(obj,key);return isUndefined(obj[key])||descriptor&&descriptor.writable}function isReservedName(value){return RE_RESERVED_NAMES.test(value)}var check=Object.freeze({isSVGTag:isSVGTag,isBoolAttr:isBoolAttr,isFunction:isFunction,isObject:isObject,isUndefined:isUndefined,isString:isString,isBlank:isBlank,isArray:isArray,isWritable:isWritable,isReservedName:isReservedName});function $$(selector,ctx){return(ctx||document).querySelectorAll(selector)}function $(selector,ctx){return(ctx||document).querySelector(selector)}function createFrag(){return document.createDocumentFragment()}function createDOMPlaceholder(){return document.createTextNode("")}function mkEl(name,isSvg){return isSvg?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(name)}function getOuterHTML(el){if(el.outerHTML){return el.outerHTML}else{var container=mkEl("div");container.appendChild(el.cloneNode(true));return container.innerHTML}}function setInnerHTML(container,html){if(!isUndefined(container.innerHTML)){container.innerHTML=html}else{var doc=(new DOMParser).parseFromString(html,"application/xml");var node=container.ownerDocument.importNode(doc.documentElement,true);container.appendChild(node)}}function remAttr(dom,name){dom.removeAttribute(name)}function getAttr(dom,name){return dom.getAttribute(name)}function setAttr(dom,name,val){var xlink=XLINK_REGEX.exec(name);if(xlink&&xlink[1]){dom.setAttributeNS(XLINK_NS,xlink[1],val)}else{dom.setAttribute(name,val)}}function safeInsert(root,curr,next){root.insertBefore(curr,next.parentNode&&next)}function walkAttrs(html,fn){if(!html){return}var m;while(m=RE_HTML_ATTRS.exec(html)){fn(m[1].toLowerCase(),m[2]||m[3]||m[4])}}function walkNodes(dom,fn,context){if(dom){var res=fn(dom,context);var next;if(res===false){return}dom=dom.firstChild;while(dom){next=dom.nextSibling;walkNodes(dom,fn,res);dom=next}}}var dom=Object.freeze({$$:$$,$:$,createFrag:createFrag,createDOMPlaceholder:createDOMPlaceholder,mkEl:mkEl,getOuterHTML:getOuterHTML,setInnerHTML:setInnerHTML,remAttr:remAttr,getAttr:getAttr,setAttr:setAttr,safeInsert:safeInsert,walkAttrs:walkAttrs,walkNodes:walkNodes});var styleNode;var cssTextProp;var byName={};var remainder=[];var needsInject=false;if(WIN){styleNode=function(){var newNode=mkEl("style");setAttr(newNode,"type","text/css");var userNode=$("style[type=riot]");if(userNode){if(userNode.id){newNode.id=userNode.id}userNode.parentNode.replaceChild(newNode,userNode)}else{document.getElementsByTagName("head")[0].appendChild(newNode)}return newNode}();cssTextProp=styleNode.styleSheet}var styleManager={styleNode:styleNode,add:function add(css,name){if(name){byName[name]=css}else{remainder.push(css)}needsInject=true},inject:function inject(){if(!WIN||!needsInject){return}needsInject=false;var style=Object.keys(byName).map(function(k){return byName[k]}).concat(remainder).join("\n");if(cssTextProp){cssTextProp.cssText=style}else{styleNode.innerHTML=style}}};var brackets=function(UNDEF){var REGLOB="g",R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,R_STRINGS=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,S_QBLOCKS=R_STRINGS.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,UNSUPPORTED=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),NEED_ESCAPE=/(?=[[\]()*+?.^$|])/g,FINDBRACES={"(":RegExp("([()])|"+S_QBLOCKS,REGLOB),"[":RegExp("([[\\]])|"+S_QBLOCKS,REGLOB),"{":RegExp("([{}])|"+S_QBLOCKS,REGLOB)},DEFAULT="{ }";var _pairs=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+S_QBLOCKS,REGLOB),DEFAULT,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var cachedBrackets=UNDEF,_regex,_cache=[],_settings;function _loopback(re){return re}function _rewrite(re,bp){if(!bp){bp=_cache}return new RegExp(re.source.replace(/{/g,bp[2]).replace(/}/g,bp[3]),re.global?REGLOB:"")}function _create(pair){if(pair===DEFAULT){return _pairs}var arr=pair.split(" ");if(arr.length!==2||UNSUPPORTED.test(pair)){throw new Error('Unsupported brackets "'+pair+'"')}arr=arr.concat(pair.replace(NEED_ESCAPE,"\\").split(" "));arr[4]=_rewrite(arr[1].length>1?/{[\S\s]*?}/:_pairs[4],arr);arr[5]=_rewrite(pair.length>3?/\\({|})/g:_pairs[5],arr);arr[6]=_rewrite(_pairs[6],arr);arr[7]=RegExp("\\\\("+arr[3]+")|([[({])|("+arr[3]+")|"+S_QBLOCKS,REGLOB);arr[8]=pair;return arr}function _brackets(reOrIdx){return reOrIdx instanceof RegExp?_regex(reOrIdx):_cache[reOrIdx]}_brackets.split=function split(str,tmpl,_bp){if(!_bp){_bp=_cache}var parts=[],match,isexpr,start,pos,re=_bp[6];isexpr=start=re.lastIndex=0;while(match=re.exec(str)){pos=match.index;if(isexpr){if(match[2]){re.lastIndex=skipBraces(str,match[2],re.lastIndex);continue}if(!match[3]){continue}}if(!match[1]){unescapeStr(str.slice(start,pos));start=re.lastIndex;re=_bp[6+(isexpr^=1)];re.lastIndex=start}}if(str&&start<str.length){unescapeStr(str.slice(start))}return parts;function unescapeStr(s){if(tmpl||isexpr){parts.push(s&&s.replace(_bp[5],"$1"))}else{parts.push(s)}}function skipBraces(s,ch,ix){var match,recch=FINDBRACES[ch];recch.lastIndex=ix;ix=1;while(match=recch.exec(s)){if(match[1]&&!(match[1]===ch?++ix:--ix)){break}}return ix?s.length:recch.lastIndex}};_brackets.hasExpr=function hasExpr(str){return _cache[4].test(str)};_brackets.loopKeys=function loopKeys(expr){var m=expr.match(_cache[9]);return m?{key:m[1],pos:m[2],val:_cache[0]+m[3].trim()+_cache[1]}:{val:expr.trim()}};_brackets.array=function array(pair){return pair?_create(pair):_cache};function _reset(pair){if((pair||(pair=DEFAULT))!==_cache[8]){_cache=_create(pair);_regex=pair===DEFAULT?_loopback:_rewrite;_cache[9]=_regex(_pairs[9])}cachedBrackets=pair}function _setSettings(o){var b;o=o||{};b=o.brackets;Object.defineProperty(o,"brackets",{set:_reset,get:function(){return cachedBrackets},enumerable:true});_settings=o;_reset(b)}Object.defineProperty(_brackets,"settings",{set:_setSettings,get:function(){return _settings}});_brackets.settings=typeof riot!=="undefined"&&riot.settings||{};_brackets.set=_reset;_brackets.R_STRINGS=R_STRINGS;_brackets.R_MLCOMMS=R_MLCOMMS;_brackets.S_QBLOCKS=S_QBLOCKS;return _brackets}();var tmpl=function(){var _cache={};function _tmpl(str,data){if(!str){return str}return(_cache[str]||(_cache[str]=_create(str))).call(data,_logErr)}_tmpl.hasExpr=brackets.hasExpr;_tmpl.loopKeys=brackets.loopKeys;_tmpl.clearCache=function(){_cache={}};_tmpl.errorHandler=null;function _logErr(err,ctx){err.riotData={tagName:ctx&&ctx.__&&ctx.__.tagName,_riot_id:ctx&&ctx._riot_id};if(_tmpl.errorHandler){_tmpl.errorHandler(err)}else if(typeof console!=="undefined"&&typeof console.error==="function"){if(err.riotData.tagName){console.error("Riot template error thrown in the <%s> tag",err.riotData.tagName)}console.error(err)}}function _create(str){var expr=_getTmpl(str);if(expr.slice(0,11)!=="try{return "){expr="return "+expr}return new Function("E",expr+";")}var CH_IDEXPR=String.fromCharCode(8279),RE_CSNAME=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,RE_QBLOCK=RegExp(brackets.S_QBLOCKS,"g"),RE_DQUOTE=/\u2057/g,RE_QBMARK=/\u2057(\d+)~/g;function _getTmpl(str){var qstr=[],expr,parts=brackets.split(str.replace(RE_DQUOTE,'"'),1);if(parts.length>2||parts[0]){var i,j,list=[];for(i=j=0;i<parts.length;++i){expr=parts[i];if(expr&&(expr=i&1?_parseExpr(expr,1,qstr):'"'+expr.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){list[j++]=expr}}expr=j<2?list[0]:"["+list.join(",")+'].join("")'}else{expr=_parseExpr(parts[1],0,qstr)}if(qstr[0]){expr=expr.replace(RE_QBMARK,function(_,pos){return qstr[pos].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return expr}var RE_BREND={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function _parseExpr(expr,asText,qstr){expr=expr.replace(RE_QBLOCK,function(s,div){return s.length>2&&!div?CH_IDEXPR+(qstr.push(s)-1)+"~":s}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(expr){var list=[],cnt=0,match;while(expr&&(match=expr.match(RE_CSNAME))&&!match.index){var key,jsb,re=/,|([[{(])|$/g;expr=RegExp.rightContext;key=match[2]?qstr[match[2]].slice(1,-1).trim().replace(/\s+/g," "):match[1];while(jsb=(match=re.exec(expr))[1]){skipBraces(jsb,re)}jsb=expr.slice(0,match.index);expr=RegExp.rightContext;list[cnt++]=_wrapExpr(jsb,1,key)}expr=!cnt?_wrapExpr(expr,asText):cnt>1?"["+list.join(",")+'].join(" ").trim()':list[0]}return expr;function skipBraces(ch,re){var mm,lv=1,ir=RE_BREND[ch];ir.lastIndex=re.lastIndex;while(mm=ir.exec(expr)){if(mm[0]===ch){++lv}else if(!--lv){break}}re.lastIndex=lv?expr.length:ir.lastIndex}}var JS_CONTEXT='"in this?this:'+(typeof window!=="object"?"global":"window")+").",JS_VARNAME=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,JS_NOPROPS=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function _wrapExpr(expr,asText,key){var tb;expr=expr.replace(JS_VARNAME,function(match,p,mvar,pos,s){if(mvar){pos=tb?0:pos+match.length;if(mvar!=="this"&&mvar!=="global"&&mvar!=="window"){match=p+'("'+mvar+JS_CONTEXT+mvar;if(pos){tb=(s=s[pos])==="."||s==="("||s==="["}}else if(pos){tb=!JS_NOPROPS.test(s.slice(pos))}}return match});if(tb){expr="try{return "+expr+"}catch(e){E(e,this)}"}if(key){expr=(tb?"function(){"+expr+"}.call(this)":"("+expr+")")+'?"'+key+'":""'}else if(asText){expr="function(v){"+(tb?expr.replace("return ","v="):"v=("+expr+")")+';return v||v===0?v:""}.call(this)'}return expr}_tmpl.version=brackets.version="v3.0.2";return _tmpl}();var observable$1=function(el){el=el||{};var callbacks={},slice=Array.prototype.slice;Object.defineProperties(el,{on:{value:function(event,fn){if(typeof fn=="function"){(callbacks[event]=callbacks[event]||[]).push(fn)}return el},enumerable:false,writable:false,configurable:false},off:{value:function(event,fn){if(event=="*"&&!fn){callbacks={}}else{if(fn){var arr=callbacks[event];for(var i=0,cb;cb=arr&&arr[i];++i){if(cb==fn){arr.splice(i--,1)}}}else{delete callbacks[event]}}return el},enumerable:false,writable:false,configurable:false},one:{value:function(event,fn){function on(){el.off(event,on);fn.apply(el,arguments)}return el.on(event,on)},enumerable:false,writable:false,configurable:false},trigger:{value:function(event){var arguments$1=arguments;var arglen=arguments.length-1,args=new Array(arglen),fns,fn,i;for(i=0;i<arglen;i++){args[i]=arguments$1[i+1]}fns=slice.call(callbacks[event]||[],0);for(i=0;fn=fns[i];++i){fn.apply(el,args)}if(callbacks["*"]&&event!="*"){el.trigger.apply(el,["*",event].concat(args))}return el},enumerable:false,writable:false,configurable:false}});return el};function each(list,fn){var len=list?list.length:0;for(var i=0,el;i<len;++i){el=list[i];if(fn(el,i)===false){i--}}return list}function contains(array,item){return array.indexOf(item)!==-1}function toCamel(str){return str.replace(/-(\w)/g,function(_,c){return c.toUpperCase()})}function startsWith(str,value){return str.slice(0,value.length)===value}function defineProperty(el,key,value,options){Object.defineProperty(el,key,extend({value:value,enumerable:false,writable:false,configurable:true},options));return el}function extend(src){var obj,args=arguments;for(var i=1;i<args.length;++i){if(obj=args[i]){for(var key in obj){if(isWritable(src,key)){src[key]=obj[key]}}}}return src}var misc=Object.freeze({each:each,contains:contains,toCamel:toCamel,startsWith:startsWith,defineProperty:defineProperty,extend:extend});var settings$1=extend(Object.create(brackets.settings),{skipAnonymousTags:true});var EVENTS_PREFIX_REGEX=/^on/;function handleEvent(dom,handler,e){var ptag=this.__.parent,item=this.__.item;if(!item){while(ptag&&!item){item=ptag.__.item;ptag=ptag.__.parent}}if(isWritable(e,"currentTarget")){e.currentTarget=dom}if(isWritable(e,"target")){e.target=e.srcElement}if(isWritable(e,"which")){e.which=e.charCode||e.keyCode}e.item=item;handler.call(this,e);if(!e.preventUpdate){var p=getImmediateCustomParentTag(this);if(p.isMounted){p.update()}}}function setEventHandler(name,handler,dom,tag){var eventName,cb=handleEvent.bind(tag,dom,handler);if(!dom.addEventListener){dom[name]=cb;return}dom[name]=null;eventName=name.replace(EVENTS_PREFIX_REGEX,"");if(!dom._riotEvents){dom._riotEvents={}}if(dom._riotEvents[name]){dom.removeEventListener(eventName,dom._riotEvents[name])}dom._riotEvents[name]=cb;dom.addEventListener(eventName,cb,false)}function updateDataIs(expr,parent){var tagName=tmpl(expr.value,parent),conf,isVirtual,head,ref;if(expr.tag&&expr.tagName===tagName){expr.tag.update();return}isVirtual=expr.dom.tagName==="VIRTUAL";if(expr.tag){if(isVirtual){head=expr.tag.__.head;ref=createDOMPlaceholder();head.parentNode.insertBefore(ref,head)}expr.tag.unmount(true)}expr.impl=__TAG_IMPL[tagName];conf={root:expr.dom,parent:parent,hasImpl:true,tagName:tagName};expr.tag=initChildTag(expr.impl,conf,expr.dom.innerHTML,parent);each(expr.attrs,function(a){return setAttr(expr.tag.root,a.name,a.value)});expr.tagName=tagName;expr.tag.mount();if(isVirtual){makeReplaceVirtual(expr.tag,ref||expr.tag.root)}parent.__.onUnmount=function(){var delName=expr.tag.opts.dataIs,tags=expr.tag.parent.tags,_tags=expr.tag.__.parent.tags;arrayishRemove(tags,delName,expr.tag);arrayishRemove(_tags,delName,expr.tag);expr.tag.unmount()}}function updateExpression(expr){if(this.root&&getAttr(this.root,"virtualized")){return}var dom=expr.dom,attrName=expr.attr,isToggle=contains([SHOW_DIRECTIVE,HIDE_DIRECTIVE],attrName),value=tmpl(expr.expr,this),isValueAttr=attrName==="riot-value",isVirtual=expr.root&&expr.root.tagName==="VIRTUAL",parent=dom&&(expr.parent||dom.parentNode),old;if(expr.bool){value=value?attrName:false}else if(isUndefined(value)||value===null){value=""}if(expr._riot_id){if(expr.isMounted){expr.update()}else{expr.mount();if(isVirtual){makeReplaceVirtual(expr,expr.root)}}return}old=expr.value;expr.value=value;if(expr.update){expr.update();return}if(expr.isRtag&&value){return updateDataIs(expr,this)}if(old===value){return}if(isValueAttr&&dom.value===value){return}if(!attrName){value+="";if(parent){expr.parent=parent;if(parent.tagName==="TEXTAREA"){parent.value=value;if(!IE_VERSION){dom.nodeValue=value}}else{dom.nodeValue=value}}return}if(!expr.isAttrRemoved||!value){remAttr(dom,attrName);expr.isAttrRemoved=true}if(isFunction(value)){setEventHandler(attrName,value,dom,this)}else if(isToggle){if(attrName===HIDE_DIRECTIVE){value=!value}dom.style.display=value?"":"none"}else if(isValueAttr){dom.value=value}else if(startsWith(attrName,ATTRS_PREFIX)&&attrName!==IS_DIRECTIVE){attrName=attrName.slice(ATTRS_PREFIX.length);if(CASE_SENSITIVE_ATTRIBUTES[attrName]){attrName=CASE_SENSITIVE_ATTRIBUTES[attrName]}if(value!=null){setAttr(dom,attrName,value)}}else{if(expr.bool){dom[attrName]=value;if(!value){return}}if(value===0||value&&typeof value!==T_OBJECT){setAttr(dom,attrName,value)}}}function updateAllExpressions(expressions){each(expressions,updateExpression.bind(this))}var IfExpr={init:function init(dom,tag,expr){remAttr(dom,CONDITIONAL_DIRECTIVE);this.tag=tag;this.expr=expr;this.stub=document.createTextNode("");this.pristine=dom;var p=dom.parentNode;p.insertBefore(this.stub,dom);p.removeChild(dom);return this},update:function update(){var newValue=tmpl(this.expr,this.tag);if(newValue&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=[];parseExpressions.apply(this.tag,[this.current,this.expressions,true])}else if(!newValue&&this.current){unmountAll(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(newValue){updateAllExpressions.call(this.tag,this.expressions)}},unmount:function unmount(){unmountAll(this.expressions||[]);delete this.pristine;delete this.parentNode;delete this.stub}};var RefExpr={init:function init(dom,parent,attrName,attrValue){this.dom=dom;this.attr=attrName;this.rawValue=attrValue;this.parent=parent;this.hasExp=tmpl.hasExpr(attrValue);this.firstRun=true;return this},update:function update(){var value=this.rawValue;if(this.hasExp){value=tmpl(this.rawValue,this.parent)}if(!this.firstRun&&value===this.value){return}var customParent=this.parent&&getImmediateCustomParentTag(this.parent);var tagOrDom=this.tag||this.dom;if(!isBlank(this.value)&&customParent){arrayishRemove(customParent.refs,this.value,tagOrDom)}if(isBlank(value)){remAttr(this.dom,this.attr)}else{if(customParent){arrayishAdd(customParent.refs,value,tagOrDom,null,this.parent.__.index)}setAttr(this.dom,this.attr,value)}this.value=value;this.firstRun=false},unmount:function unmount(){var tagOrDom=this.tag||this.dom;var customParent=this.parent&&getImmediateCustomParentTag(this.parent);if(!isBlank(this.value)&&customParent){arrayishRemove(customParent.refs,this.value,tagOrDom)}delete this.dom;delete this.parent}};function mkitem(expr,key,val,base){var item=base?Object.create(base):{};item[expr.key]=key;if(expr.pos){item[expr.pos]=val}return item}function unmountRedundant(items,tags){var i=tags.length,j=items.length;while(i>j){i--;remove.apply(tags[i],[tags,i])}}function remove(tags,i){tags.splice(i,1);this.unmount();arrayishRemove(this.parent,this,this.__.tagName,true)}function moveNestedTags(i){var this$1=this;each(Object.keys(this.tags),function(tagName){var tag=this$1.tags[tagName];if(isArray(tag)){each(tag,function(t){moveChildTag.apply(t,[tagName,i])})}else{moveChildTag.apply(tag,[tagName,i])}})}function move(root,nextTag,isVirtual){if(isVirtual){moveVirtual.apply(this,[root,nextTag])}else{safeInsert(root,this.root,nextTag.root)}}function insert(root,nextTag,isVirtual){if(isVirtual){makeVirtual.apply(this,[root,nextTag])}else{safeInsert(root,this.root,nextTag.root)}}function append(root,isVirtual){if(isVirtual){makeVirtual.call(this,root)}else{root.appendChild(this.root)}}function _each(dom,parent,expr){remAttr(dom,LOOP_DIRECTIVE);var mustReorder=typeof getAttr(dom,LOOP_NO_REORDER_DIRECTIVE)!==T_STRING||remAttr(dom,LOOP_NO_REORDER_DIRECTIVE),tagName=getTagName(dom),impl=__TAG_IMPL[tagName],parentNode=dom.parentNode,placeholder=createDOMPlaceholder(),child=getTag(dom),ifExpr=getAttr(dom,CONDITIONAL_DIRECTIVE),tags=[],oldItems=[],hasKeys,isLoop=true,isAnonymous=!__TAG_IMPL[tagName],isVirtual=dom.tagName==="VIRTUAL";expr=tmpl.loopKeys(expr);expr.isLoop=true;if(ifExpr){remAttr(dom,CONDITIONAL_DIRECTIVE)}parentNode.insertBefore(placeholder,dom);parentNode.removeChild(dom);expr.update=function updateEach(){var items=tmpl(expr.val,parent),frag=createFrag(),isObject$$1=!isArray(items)&&!isString(items),root=placeholder.parentNode;if(isObject$$1){hasKeys=items||false;items=hasKeys?Object.keys(items).map(function(key){return mkitem(expr,items[key],key)}):[]}else{hasKeys=false}if(ifExpr){items=items.filter(function(item,i){if(expr.key&&!isObject$$1){return!!tmpl(ifExpr,mkitem(expr,item,i,parent))}return!!tmpl(ifExpr,extend(Object.create(parent),item))})}each(items,function(item,i){var doReorder=mustReorder&&typeof item===T_OBJECT&&!hasKeys,oldPos=oldItems.indexOf(item),isNew=oldPos===-1,pos=!isNew&&doReorder?oldPos:i,tag=tags[pos],mustAppend=i>=oldItems.length,mustCreate=doReorder&&isNew||!doReorder&&!tag;item=!hasKeys&&expr.key?mkitem(expr,item,i):item;if(mustCreate){tag=new Tag$1(impl,{parent:parent,isLoop:isLoop,isAnonymous:isAnonymous,tagName:tagName,root:dom.cloneNode(isAnonymous),item:item,index:i},dom.innerHTML);tag.mount();if(mustAppend){append.apply(tag,[frag||root,isVirtual])}else{insert.apply(tag,[root,tags[i],isVirtual])}if(!mustAppend){oldItems.splice(i,0,item)}tags.splice(i,0,tag);if(child){arrayishAdd(parent.tags,tagName,tag,true)}}else if(pos!==i&&doReorder){if(contains(items,oldItems[pos])){move.apply(tag,[root,tags[i],isVirtual]);tags.splice(i,0,tags.splice(pos,1)[0]);oldItems.splice(i,0,oldItems.splice(pos,1)[0])}else{remove.apply(tags[i],[tags,i]);oldItems.splice(i,1)}if(expr.pos){tag[expr.pos]=i}if(!child&&tag.tags){moveNestedTags.call(tag,i)}}tag.__.item=item;tag.__.index=i;tag.__.parent=parent;if(!mustCreate){tag.update(item)}});unmountRedundant(items,tags);oldItems=items.slice();root.insertBefore(frag,placeholder)};expr.unmount=function(){each(tags,function(t){t.unmount()})};return expr}function parseExpressions(root,expressions,mustIncludeRoot){var this$1=this;var tree={parent:{children:expressions}};walkNodes(root,function(dom,ctx){var type=dom.nodeType,parent=ctx.parent,attr,expr,tagImpl;if(!mustIncludeRoot&&dom===root){return{parent:parent}}if(type===3&&dom.parentNode.tagName!=="STYLE"&&tmpl.hasExpr(dom.nodeValue)){parent.children.push({dom:dom,expr:dom.nodeValue})}if(type!==1){return ctx}var isVirtual=dom.tagName==="VIRTUAL";if(attr=getAttr(dom,LOOP_DIRECTIVE)){if(isVirtual){setAttr(dom,"loopVirtual",true)}parent.children.push(_each(dom,this$1,attr));return false}if(attr=getAttr(dom,CONDITIONAL_DIRECTIVE)){parent.children.push(Object.create(IfExpr).init(dom,this$1,attr));return false}if(expr=getAttr(dom,IS_DIRECTIVE)){if(tmpl.hasExpr(expr)){parent.children.push({isRtag:true,expr:expr,dom:dom,attrs:[].slice.call(dom.attributes)});return false}}tagImpl=getTag(dom);if(isVirtual){if(getAttr(dom,"virtualized")){dom.parentElement.removeChild(dom)}if(!tagImpl&&!getAttr(dom,"virtualized")&&!getAttr(dom,"loopVirtual")){tagImpl={tmpl:dom.outerHTML}}}if(tagImpl&&(dom!==root||mustIncludeRoot)){if(isVirtual&&!getAttr(dom,IS_DIRECTIVE)){setAttr(dom,"virtualized",true);var tag=new Tag$1({tmpl:dom.outerHTML},{root:dom,parent:this$1},dom.innerHTML);parent.children.push(tag)}else{var conf={root:dom,parent:this$1,hasImpl:true};parent.children.push(initChildTag(tagImpl,conf,dom.innerHTML,this$1));return false}}parseAttributes.apply(this$1,[dom,dom.attributes,function(attr,expr){if(!expr){return}parent.children.push(expr)}]);return{parent:parent}},tree);return{tree:tree,root:root}}function parseAttributes(dom,attrs,fn){var this$1=this;each(attrs,function(attr){var name=attr.name,bool=isBoolAttr(name),expr;if(contains(REF_DIRECTIVES,name)){expr=Object.create(RefExpr).init(dom,this$1,name,attr.value)}else if(tmpl.hasExpr(attr.value)){expr={dom:dom,expr:attr.value,attr:attr.name,bool:bool}}fn(attr,expr)})}var reHasYield=/<yield\b/i;var reYieldAll=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi;var reYieldSrc=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi;var reYieldDest=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi;var rootEls={tr:"tbody",th:"tr",td:"tr",col:"colgroup"};var tblTags=IE_VERSION&&IE_VERSION<10?RE_SPECIAL_TAGS:RE_SPECIAL_TAGS_NO_OPTION;var GENERIC="div";function specialTags(el,tmpl,tagName){var select=tagName[0]==="o",parent=select?"select>":"table>";el.innerHTML="<"+parent+tmpl.trim()+"</"+parent;parent=el.firstChild;if(select){parent.selectedIndex=-1}else{var tname=rootEls[tagName];if(tname&&parent.childElementCount===1){parent=$(tname,parent)}}return parent}function replaceYield(tmpl,html){if(!reHasYield.test(tmpl)){return tmpl}var src={};html=html&&html.replace(reYieldSrc,function(_,ref,text){src[ref]=src[ref]||text;return""}).trim();return tmpl.replace(reYieldDest,function(_,ref,def){return src[ref]||def||""}).replace(reYieldAll,function(_,def){return html||def||""})}function mkdom(tmpl,html,checkSvg){var match=tmpl&&tmpl.match(/^\s*<([-\w]+)/),tagName=match&&match[1].toLowerCase(),el=mkEl(GENERIC,checkSvg&&isSVGTag(tagName));tmpl=replaceYield(tmpl,html);if(tblTags.test(tagName)){el=specialTags(el,tmpl,tagName)}else{setInnerHTML(el,tmpl)}return el}function Tag$2(el,opts){var ref=this;var name=ref.name;var tmpl=ref.tmpl;var css=ref.css;var attrs=ref.attrs;var onCreate=ref.onCreate;if(!__TAG_IMPL[name]){tag$1(name,tmpl,css,attrs,onCreate);__TAG_IMPL[name].class=this.constructor}mountTo(el,name,opts,this);if(css){styleManager.inject()}return this}function tag$1(name,tmpl,css,attrs,fn){if(isFunction(attrs)){fn=attrs;if(/^[\w\-]+\s?=/.test(css)){attrs=css;css=""}else{attrs=""}}if(css){if(isFunction(css)){fn=css}else{styleManager.add(css)}}name=name.toLowerCase();__TAG_IMPL[name]={name:name,tmpl:tmpl,attrs:attrs,fn:fn};return name}function tag2$1(name,tmpl,css,attrs,fn){if(css){styleManager.add(css,name)}var exists=!!__TAG_IMPL[name];__TAG_IMPL[name]={name:name,tmpl:tmpl,attrs:attrs,fn:fn};if(exists&&util.hotReloader){util.hotReloader(name)}return name}function mount$1(selector,tagName,opts){var tags=[];function pushTagsTo(root){if(root.tagName){var riotTag=getAttr(root,IS_DIRECTIVE);if(tagName&&riotTag!==tagName){riotTag=tagName;setAttr(root,IS_DIRECTIVE,tagName)}var tag$$1=mountTo(root,riotTag||root.tagName.toLowerCase(),opts);if(tag$$1){tags.push(tag$$1)}}else if(root.length){each(root,pushTagsTo)}}styleManager.inject();if(isObject(tagName)){opts=tagName;tagName=0}var elem;var allTags;if(isString(selector)){selector=selector==="*"?allTags=selectTags():selector+selectTags(selector.split(/, */));elem=selector?$$(selector):[]}else{elem=selector}if(tagName==="*"){tagName=allTags||selectTags();if(elem.tagName){elem=$$(tagName,elem)}else{var nodeList=[];each(elem,function(_el){return nodeList.push($$(tagName,_el))});elem=nodeList}tagName=0}pushTagsTo(elem);return tags}var mixins={};var globals=mixins[GLOBAL_MIXIN]={};var _id=0;function mixin$1(name,mix,g){if(isObject(name)){mixin$1("__unnamed_"+_id++,name,true);return}var store=g?globals:mixins;if(!mix){if(isUndefined(store[name])){throw new Error("Unregistered mixin: "+name)}return store[name]}store[name]=isFunction(mix)?extend(mix.prototype,store[name]||{})&&mix:extend(store[name]||{},mix)}function update$1(){return each(__TAGS_CACHE,function(tag$$1){return tag$$1.update()})}function unregister$1(name){delete __TAG_IMPL[name]}var core=Object.freeze({Tag:Tag$2,tag:tag$1,tag2:tag2$1,mount:mount$1,mixin:mixin$1,update:update$1,unregister:unregister$1});var __uid=0;function updateOpts(isLoop,parent,isAnonymous,opts,instAttrs){if(isLoop&&isAnonymous){return}var ctx=!isAnonymous&&isLoop?this:parent||this;each(instAttrs,function(attr){if(attr.expr){updateAllExpressions.call(ctx,[attr.expr])}opts[toCamel(attr.name)]=attr.expr?attr.expr.value:attr.value})}function Tag$1(impl,conf,innerHTML){if(impl===void 0)impl={};if(conf===void 0)conf={};var opts=extend({},conf.opts),parent=conf.parent,isLoop=conf.isLoop,isAnonymous=!!conf.isAnonymous,skipAnonymous=settings$1.skipAnonymousTags&&isAnonymous,item=cleanUpData(conf.item),index=conf.index,instAttrs=[],implAttrs=[],expressions=[],root=conf.root,tagName=conf.tagName||getTagName(root),isVirtual=tagName==="virtual",propsInSyncWithParent=[],dom;if(!skipAnonymous){observable$1(this)}if(impl.name&&root._tag){root._tag.unmount(true)}this.isMounted=false;defineProperty(this,"__",{isAnonymous:isAnonymous,instAttrs:instAttrs,innerHTML:innerHTML,tagName:tagName,index:index,isLoop:isLoop,virts:[],tail:null,head:null,parent:null,item:null});defineProperty(this,"_riot_id",++__uid);defineProperty(this,"root",root);extend(this,{opts:opts},item);defineProperty(this,"parent",parent||null);defineProperty(this,"tags",{});defineProperty(this,"refs",{});dom=isLoop&&isAnonymous?root:mkdom(impl.tmpl,innerHTML,isLoop);defineProperty(this,"update",function tagUpdate(data){var nextOpts={},canTrigger=this.isMounted&&!skipAnonymous;updateOpts.apply(this,[isLoop,parent,isAnonymous,nextOpts,instAttrs]);if(this.isMounted&&isFunction(this.shouldUpdate)&&!this.shouldUpdate(data,nextOpts)){return this}data=cleanUpData(data);if(isLoop&&isAnonymous){inheritFrom.apply(this,[this.parent,propsInSyncWithParent])}extend(this,data);extend(opts,nextOpts);if(canTrigger){this.trigger("update",data)}updateAllExpressions.call(this,expressions);if(canTrigger){this.trigger("updated")}return this}.bind(this));defineProperty(this,"mixin",function tagMixin(){var this$1=this;each(arguments,function(mix){var instance,props=[],obj;mix=isString(mix)?mixin$1(mix):mix;if(isFunction(mix)){instance=new mix}else{instance=mix}var proto=Object.getPrototypeOf(instance);do{props=props.concat(Object.getOwnPropertyNames(obj||instance))}while(obj=Object.getPrototypeOf(obj||instance));each(props,function(key){if(key!=="init"){var descriptor=Object.getOwnPropertyDescriptor(instance,key)||Object.getOwnPropertyDescriptor(proto,key);var hasGetterSetter=descriptor&&(descriptor.get||descriptor.set);if(!this$1.hasOwnProperty(key)&&hasGetterSetter){Object.defineProperty(this$1,key,descriptor)}else{this$1[key]=isFunction(instance[key])?instance[key].bind(this$1):instance[key]}}});if(instance.init){instance.init.bind(this$1)()}});return this}.bind(this));defineProperty(this,"mount",function tagMount(){var this$1=this;var _parent=this.__.parent;root._tag=this;parseAttributes.apply(parent,[root,root.attributes,function(attr,expr){if(!isAnonymous&&RefExpr.isPrototypeOf(expr)){expr.tag=this$1}attr.expr=expr;instAttrs.push(attr)}]);implAttrs=[];walkAttrs(impl.attrs,function(k,v){implAttrs.push({name:k,value:v})});parseAttributes.apply(this,[root,implAttrs,function(attr,expr){if(expr){expressions.push(expr)}else{setAttr(root,attr.name,attr.value)}}]);if(_parent&&isAnonymous){inheritFrom.apply(this,[_parent,propsInSyncWithParent])}updateOpts.apply(this,[isLoop,parent,isAnonymous,opts,instAttrs]);var globalMixin=mixin$1(GLOBAL_MIXIN);if(globalMixin&&!skipAnonymous){for(var i in globalMixin){if(globalMixin.hasOwnProperty(i)){this$1.mixin(globalMixin[i])}}}if(impl.fn){impl.fn.call(this,opts)}if(!skipAnonymous){this.trigger("before-mount")}parseExpressions.apply(this,[dom,expressions,isAnonymous]);this.update(item);if(!isAnonymous){while(dom.firstChild){root.appendChild(dom.firstChild)}}defineProperty(this,"root",root);

defineProperty(this,"isMounted",true);if(skipAnonymous){return}if(!this.parent){this.trigger("mount")}else{var p=getImmediateCustomParentTag(this.parent);p.one(!p.isMounted?"mount":"updated",function(){this$1.trigger("mount")})}return this}.bind(this));defineProperty(this,"unmount",function tagUnmount(mustKeepRoot){var this$1=this;var el=this.root,p=el.parentNode,ptag,tagIndex=__TAGS_CACHE.indexOf(this);if(!skipAnonymous){this.trigger("before-unmount")}walkAttrs(impl.attrs,function(name){if(startsWith(name,ATTRS_PREFIX)){name=name.slice(ATTRS_PREFIX.length)}remAttr(root,name)});if(tagIndex!==-1){__TAGS_CACHE.splice(tagIndex,1)}if(p||isVirtual){if(parent){ptag=getImmediateCustomParentTag(parent);if(isVirtual){Object.keys(this.tags).forEach(function(tagName){arrayishRemove(ptag.tags,tagName,this$1.tags[tagName])})}else{arrayishRemove(ptag.tags,tagName,this);if(parent!==ptag){arrayishRemove(parent.tags,tagName,this)}}}else{while(el.firstChild){el.removeChild(el.firstChild)}}if(p){if(!mustKeepRoot){p.removeChild(el)}else{remAttr(p,IS_DIRECTIVE)}}}if(this.__.virts){each(this.__.virts,function(v){if(v.parentNode){v.parentNode.removeChild(v)}})}unmountAll(expressions);each(instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});if(this.__.onUnmount){this.__.onUnmount()}if(!skipAnonymous){this.trigger("unmount");this.off("*")}defineProperty(this,"isMounted",false);delete this.root._tag;return this}.bind(this))}function getTag(dom){return dom.tagName&&__TAG_IMPL[getAttr(dom,IS_DIRECTIVE)||getAttr(dom,IS_DIRECTIVE)||dom.tagName.toLowerCase()]}function inheritFrom(target,propsInSyncWithParent){var this$1=this;each(Object.keys(target),function(k){var mustSync=!isReservedName(k)&&contains(propsInSyncWithParent,k);if(isUndefined(this$1[k])||mustSync){if(!mustSync){propsInSyncWithParent.push(k)}this$1[k]=target[k]}})}function moveChildTag(tagName,newPos){var parent=this.parent,tags;if(!parent){return}tags=parent.tags[tagName];if(isArray(tags)){tags.splice(newPos,0,tags.splice(tags.indexOf(this),1)[0])}else{arrayishAdd(parent.tags,tagName,this)}}function initChildTag(child,opts,innerHTML,parent){var tag=new Tag$1(child,opts,innerHTML),tagName=opts.tagName||getTagName(opts.root,true),ptag=getImmediateCustomParentTag(parent);defineProperty(tag,"parent",ptag);tag.__.parent=parent;arrayishAdd(ptag.tags,tagName,tag);if(ptag!==parent){arrayishAdd(parent.tags,tagName,tag)}opts.root.innerHTML="";return tag}function getImmediateCustomParentTag(tag){var ptag=tag;while(ptag.__.isAnonymous){if(!ptag.parent){break}ptag=ptag.parent}return ptag}function unmountAll(expressions){each(expressions,function(expr){if(expr instanceof Tag$1){expr.unmount(true)}else if(expr.unmount){expr.unmount()}})}function getTagName(dom,skipDataIs){var child=getTag(dom),namedTag=!skipDataIs&&getAttr(dom,IS_DIRECTIVE);return namedTag&&!tmpl.hasExpr(namedTag)?namedTag:child?child.name:dom.tagName.toLowerCase()}function cleanUpData(data){if(!(data instanceof Tag$1)&&!(data&&isFunction(data.trigger))){return data}var o={};for(var key in data){if(!RE_RESERVED_NAMES.test(key)){o[key]=data[key]}}return o}function arrayishAdd(obj,key,value,ensureArray,index){var dest=obj[key];var isArr=isArray(dest);var hasIndex=!isUndefined(index);if(dest&&dest===value){return}if(!dest&&ensureArray){obj[key]=[value]}else if(!dest){obj[key]=value}else{if(isArr){var oldIndex=dest.indexOf(value);if(oldIndex===index){return}if(oldIndex!==-1){dest.splice(oldIndex,1)}if(hasIndex){dest.splice(index,0,value)}else{dest.push(value)}}else{obj[key]=[dest,value]}}}function arrayishRemove(obj,key,value,ensureArray){if(isArray(obj[key])){var index=obj[key].indexOf(value);if(index!==-1){obj[key].splice(index,1)}if(!obj[key].length){delete obj[key]}else if(obj[key].length===1&&!ensureArray){obj[key]=obj[key][0]}}else{delete obj[key]}}function isInStub(dom){while(dom){if(dom.inStub){return true}dom=dom.parentNode}return false}function mountTo(root,tagName,opts,ctx){var impl=__TAG_IMPL[tagName],implClass=__TAG_IMPL[tagName].class,tag=ctx||(implClass?Object.create(implClass.prototype):{}),innerHTML=root._innerHTML=root._innerHTML||root.innerHTML;root.innerHTML="";var conf={root:root,opts:opts};if(opts&&opts.parent){conf.parent=opts.parent}if(impl&&root){Tag$1.apply(tag,[impl,conf,innerHTML])}if(tag&&tag.mount){tag.mount(true);if(!contains(__TAGS_CACHE,tag)){__TAGS_CACHE.push(tag)}}return tag}function makeReplaceVirtual(tag,ref){var frag=createFrag();makeVirtual.call(tag,frag);ref.parentNode.replaceChild(frag,ref)}function makeVirtual(src,target){var this$1=this;var head=createDOMPlaceholder(),tail=createDOMPlaceholder(),frag=createFrag(),sib,el;this.__.head=this.root.insertBefore(head,this.root.firstChild);this.__.tail=this.root.appendChild(tail);el=this.__.head;while(el){sib=el.nextSibling;frag.appendChild(el);this$1.__.virts.push(el);el=sib}if(target){src.insertBefore(frag,target.__.head)}else{src.appendChild(frag)}}function moveVirtual(src,target){var this$1=this;var el=this.__.head,frag=createFrag(),sib;while(el){sib=el.nextSibling;frag.appendChild(el);el=sib;if(el===this$1.__.tail){frag.appendChild(el);src.insertBefore(frag,target.__.head);break}}}function selectTags(tags){if(!tags){var keys=Object.keys(__TAG_IMPL);return keys+selectTags(keys)}return tags.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(list,t){var name=t.trim().toLowerCase();return list+",["+IS_DIRECTIVE+'="'+name+'"]'},"")}var tags=Object.freeze({getTag:getTag,inheritFrom:inheritFrom,moveChildTag:moveChildTag,initChildTag:initChildTag,getImmediateCustomParentTag:getImmediateCustomParentTag,unmountAll:unmountAll,getTagName:getTagName,cleanUpData:cleanUpData,arrayishAdd:arrayishAdd,arrayishRemove:arrayishRemove,isInStub:isInStub,mountTo:mountTo,makeReplaceVirtual:makeReplaceVirtual,makeVirtual:makeVirtual,moveVirtual:moveVirtual,selectTags:selectTags});var settings=settings$1;var util={tmpl:tmpl,brackets:brackets,styleManager:styleManager,vdom:__TAGS_CACHE,styleNode:styleManager.styleNode,dom:dom,check:check,misc:misc,tags:tags};var riot$1=extend({},core,{observable:observable$1,settings:settings,util:util});(function(self){"use strict";if(self.fetch){return}var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)};var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){var this$1=this;for(var name in this$1.map){if(this$1.map.hasOwnProperty(name)){callback.call(thisArg,this$1.map[name],name,this$1)}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name)});return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value)});return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value])});return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function parseHeaders(rawHeaders){var headers=new Headers;rawHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}});return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status="status"in options?options.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})(typeof self!=="undefined"?self:undefined);riot$1.tag2("comments",'<div if="{loading}" class="loading comments-loader"></div> <comment if="{!loading}" each="{this.comments}" data="{this}"></comment> <textarea onfocus="{clearplaceholder}" onblur="{checkplaceholder}" oninput="{echo}" __disabled="{disabled}" class="{⁗form-input comments centered ⁗ + this.maxed}" ref="textarea" rows="10" cols="50" maxlength="{this.maxlength}"> {placeholder} </textarea> <div if="{this.warn}" class="toast toast-danger maxwarn centered"> <button onclick="{this.closewarning}" class="btn btn-clear float-right"> </button> Your comment is too long! </div>',"","",function(opts){this.comments=[];this.maxlength=700;this.placeholder="Comment here!";this.focused=false;this.maxed="";this.warn=false;this.disabled="";this.loading=true;this.clearplaceholder=function(){if(!this.focused){this.update({placeholder:"",focused:true})}}.bind(this);this.checkplaceholder=function(){if(this.refs.textarea.value.trim().length==0){this.update({placeholder:"Comment here!",focused:false})}}.bind(this);this.closewarning=function(){this.update({warn:false})}.bind(this);this.echo=function(ev){if(this.refs.textarea.value.length>=this.maxlength){this.update({maxed:"maxinput",warn:true})}else{this.update({maxed:"",warn:false});window.setTimeout(this.closewarning,15e3)}}.bind(this);var self=this;this.getComments=function(pid){fetch("/blog/comments/"+pid).then(function(resp){return resp.text()}).then(function(body){self.update({comments:JSON.parse(body),loading:false})})}.bind(this);this.on("mount",function(){this.getComments(self.opts.pid)})});var _isPlaceholder$1=function _isPlaceholder(a){return a!=null&&typeof a==="object"&&a["@@functional/placeholder"]===true};var _isPlaceholder=_isPlaceholder$1;var _curry1$1=function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1}else{return fn.apply(this,arguments)}}};var _curry1=_curry1$1;var always$1=_curry1(function always(val){return function(){return val}});var always=always$1;var F=always(false);var always$3=always$1;var T=always$3(true);var __={"@@functional/placeholder":true};var _curry1$3=_curry1$1;var _isPlaceholder$3=_isPlaceholder$1;var _curry2$1=function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder$3(a)?f2:_curry1$3(function(_b){return fn(a,_b)});default:return _isPlaceholder$3(a)&&_isPlaceholder$3(b)?f2:_isPlaceholder$3(a)?_curry1$3(function(_a){return fn(_a,b)}):_isPlaceholder$3(b)?_curry1$3(function(_b){return fn(a,_b)}):fn(a,b)}}};var _curry2=_curry2$1;var add=_curry2(function add(a,b){return Number(a)+Number(b)});var _concat$1=function _concat(set1,set2){set1=set1||[];set2=set2||[];var idx;var len1=set1.length;var len2=set2.length;var result=[];idx=0;while(idx<len1){result[result.length]=set1[idx];idx+=1}idx=0;while(idx<len2){result[result.length]=set2[idx];idx+=1}return result};var _arity$1=function _arity(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};var _arity$3=_arity$1;var _isPlaceholder$4=_isPlaceholder$1;var _curryN$1=function _curryN(length,received,fn){return function(){var arguments$1=arguments;var combined=[];var argsIdx=0;var left=length;var combinedIdx=0;while(combinedIdx<received.length||argsIdx<arguments.length){var result;if(combinedIdx<received.length&&(!_isPlaceholder$4(received[combinedIdx])||argsIdx>=arguments$1.length)){result=received[combinedIdx]}else{result=arguments$1[argsIdx];argsIdx+=1}combined[combinedIdx]=result;if(!_isPlaceholder$4(result)){left-=1}combinedIdx+=1}return left<=0?fn.apply(this,combined):_arity$3(left,_curryN(length,combined,fn))}};var _arity=_arity$1;var _curry1$5=_curry1$1;var _curry2$3=_curry2$1;var _curryN=_curryN$1;var curryN$1=_curry2$3(function curryN(length,fn){if(length===1){return _curry1$5(fn)}return _arity(length,_curryN(length,[],fn))});var _concat=_concat$1;var _curry1$4=_curry1$1;var curryN=curryN$1;var addIndex=_curry1$4(function addIndex(fn){return curryN(fn.length,function(){var idx=0;var origFn=arguments[0];var list=arguments[arguments.length-1];var args=Array.prototype.slice.call(arguments,0);args[0]=function(){var result=origFn.apply(this,_concat(arguments,[idx,list]));idx+=1;return result};return fn.apply(this,args)})});var _curry1$6=_curry1$1;var _curry2$4=_curry2$1;var _isPlaceholder$5=_isPlaceholder$1;var _curry3$1=function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder$5(a)?f3:_curry2$4(function(_b,_c){return fn(a,_b,_c)});case 2:return _isPlaceholder$5(a)&&_isPlaceholder$5(b)?f3:_isPlaceholder$5(a)?_curry2$4(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder$5(b)?_curry2$4(function(_b,_c){return fn(a,_b,_c)}):_curry1$6(function(_c){return fn(a,b,_c)});default:return _isPlaceholder$5(a)&&_isPlaceholder$5(b)&&_isPlaceholder$5(c)?f3:_isPlaceholder$5(a)&&_isPlaceholder$5(b)?_curry2$4(function(_a,_b){return fn(_a,_b,c)}):_isPlaceholder$5(a)&&_isPlaceholder$5(c)?_curry2$4(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder$5(b)&&_isPlaceholder$5(c)?_curry2$4(function(_b,_c){return fn(a,_b,_c)}):_isPlaceholder$5(a)?_curry1$6(function(_a){return fn(_a,b,c)}):_isPlaceholder$5(b)?_curry1$6(function(_b){return fn(a,_b,c)}):_isPlaceholder$5(c)?_curry1$6(function(_c){return fn(a,b,_c)}):fn(a,b,c)}}};var _concat$3=_concat$1;var _curry3=_curry3$1;var adjust=_curry3(function adjust(fn,idx,list){if(idx>=list.length||idx<-list.length){return list}var start=idx<0?list.length:0;var _idx=start+idx;var _list=_concat$3(list);_list[_idx]=fn(list[_idx]);return _list});var _isArray$1=Array.isArray||function _isArray(val){return val!=null&&val.length>=0&&Object.prototype.toString.call(val)==="[object Array]"};var _isTransformer$1=function _isTransformer(obj){return typeof obj["@@transducer/step"]==="function"};var _isArray=_isArray$1;var _isTransformer=_isTransformer$1;var _dispatchable$1=function _dispatchable(methodNames,xf,fn){return function(){if(arguments.length===0){return fn()}var args=Array.prototype.slice.call(arguments,0);var obj=args.pop();if(!_isArray(obj)){var idx=0;while(idx<methodNames.length){if(typeof obj[methodNames[idx]]==="function"){return obj[methodNames[idx]].apply(obj,args)}idx+=1}if(_isTransformer(obj)){var transducer=xf.apply(null,args);return transducer(obj)}}return fn.apply(this,arguments)}};var _reduced$1=function _reduced(x){return x&&x["@@transducer/reduced"]?x:{"@@transducer/value":x,"@@transducer/reduced":true}};var _xfBase$1={init:function(){return this.xf["@@transducer/init"]()},result:function(result){return this.xf["@@transducer/result"](result)}};var _curry2$6=_curry2$1;var _reduced=_reduced$1;var _xfBase=_xfBase$1;var _xall$1=function(){function XAll(f,xf){this.xf=xf;this.f=f;this.all=true}XAll.prototype["@@transducer/init"]=_xfBase.init;XAll.prototype["@@transducer/result"]=function(result){if(this.all){result=this.xf["@@transducer/step"](result,true)}return this.xf["@@transducer/result"](result)};XAll.prototype["@@transducer/step"]=function(result,input){if(!this.f(input)){this.all=false;result=_reduced(this.xf["@@transducer/step"](result,false))}return result};return _curry2$6(function _xall(f,xf){return new XAll(f,xf)})}();var _curry2$5=_curry2$1;var _dispatchable=_dispatchable$1;var _xall=_xall$1;var all=_curry2$5(_dispatchable(["all"],_xall,function all(fn,list){var idx=0;while(idx<list.length){if(!fn(list[idx])){return false}idx+=1}return true}));var _curry2$7=_curry2$1;var max$1=_curry2$7(function max(a,b){return b>a?b:a});var _map$1=function _map(fn,functor){var idx=0;var len=functor.length;var result=Array(len);while(idx<len){result[idx]=fn(functor[idx]);idx+=1}return result};var _xwrap$1=function(){function XWrap(fn){this.f=fn}XWrap.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")};XWrap.prototype["@@transducer/result"]=function(acc){return acc};XWrap.prototype["@@transducer/step"]=function(acc,x){return this.f(acc,x)};return function _xwrap(fn){return new XWrap(fn)}}();var _arity$4=_arity$1;var _curry2$10=_curry2$1;var bind$1=_curry2$10(function bind(fn,thisObj){return _arity$4(fn.length,function(){return fn.apply(thisObj,arguments)})});var _isString$1=function _isString(x){return Object.prototype.toString.call(x)==="[object String]"};var _curry1$8=_curry1$1;var _isArray$3=_isArray$1;var _isString=_isString$1;var isArrayLike$1=_curry1$8(function isArrayLike(x){if(_isArray$3(x)){return true}if(!x){return false}if(typeof x!=="object"){return false}if(_isString(x)){return false}if(x.nodeType===1){return!!x.length}if(x.length===0){return true}if(x.length>0){return x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1)}return false});var _xwrap=_xwrap$1;var bind=bind$1;var isArrayLike=isArrayLike$1;var _reduce$1=function(){function _arrayReduce(xf,acc,list){var idx=0;var len=list.length;while(idx<len){acc=xf["@@transducer/step"](acc,list[idx]);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}idx+=1}return xf["@@transducer/result"](acc)}function _iterableReduce(xf,acc,iter){var step=iter.next();while(!step.done){acc=xf["@@transducer/step"](acc,step.value);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}step=iter.next()}return xf["@@transducer/result"](acc)}function _methodReduce(xf,acc,obj){return xf["@@transducer/result"](obj.reduce(bind(xf["@@transducer/step"],xf),acc))}var symIterator=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator";return function _reduce(fn,acc,list){if(typeof fn==="function"){fn=_xwrap(fn)}if(isArrayLike(list)){return _arrayReduce(fn,acc,list)}if(typeof list.reduce==="function"){return _methodReduce(fn,acc,list)}if(list[symIterator]!=null){return _iterableReduce(fn,acc,list[symIterator]())}if(typeof list.next==="function"){return _iterableReduce(fn,acc,list)}throw new TypeError("reduce: list must be array or iterable")}}();var _curry2$11=_curry2$1;var _xfBase$3=_xfBase$1;var _xmap$1=function(){function XMap(f,xf){this.xf=xf;this.f=f}XMap.prototype["@@transducer/init"]=_xfBase$3.init;XMap.prototype["@@transducer/result"]=_xfBase$3.result;XMap.prototype["@@transducer/step"]=function(result,input){return this.xf["@@transducer/step"](result,this.f(input))};return _curry2$11(function _xmap(f,xf){return new XMap(f,xf)})}();var _has$1=function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)};var _has$3=_has$1;var _isArguments$1=function(){var toString=Object.prototype.toString;return toString.call(arguments)==="[object Arguments]"?function _isArguments(x){return toString.call(x)==="[object Arguments]"}:function _isArguments(x){return _has$3("callee",x)}}();var _curry1$9=_curry1$1;var _has=_has$1;var _isArguments=_isArguments$1;var keys$1=function(){var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var hasArgsEnumBug=function(){"use strict";return arguments.propertyIsEnumerable("length")}();var contains=function contains(list,item){var idx=0;while(idx<list.length){if(list[idx]===item){return true}idx+=1}return false};return typeof Object.keys==="function"&&!hasArgsEnumBug?_curry1$9(function keys(obj){return Object(obj)!==obj?[]:Object.keys(obj)}):_curry1$9(function keys(obj){if(Object(obj)!==obj){return[]}var prop,nIdx;var ks=[];var checkArgsLength=hasArgsEnumBug&&_isArguments(obj);for(prop in obj){if(_has(prop,obj)&&(!checkArgsLength||prop!=="length")){ks[ks.length]=prop}}if(hasEnumBug){nIdx=nonEnumerableProps.length-1;while(nIdx>=0){prop=nonEnumerableProps[nIdx];if(_has(prop,obj)&&!contains(ks,prop)){ks[ks.length]=prop}nIdx-=1}}return ks})}();var _curry2$9=_curry2$1;var _dispatchable$3=_dispatchable$1;var _map=_map$1;var _reduce=_reduce$1;var _xmap=_xmap$1;var curryN$4=curryN$1;var keys=keys$1;var map$1=_curry2$9(_dispatchable$3(["map"],_xmap,function map(fn,functor){switch(Object.prototype.toString.call(functor)){case"[object Function]":return curryN$4(functor.length,function(){return fn.call(this,functor.apply(this,arguments))});case"[object Object]":return _reduce(function(acc,key){acc[key]=fn(functor[key]);return acc},{},keys(functor));default:return _map(fn,functor)}}));var _curry2$12=_curry2$1;var prop$1=_curry2$12(function prop(p,obj){return obj[p]});var _curry2$8=_curry2$1;var map=map$1;var prop=prop$1;var pluck$1=_curry2$8(function pluck(p,list){return map(prop(p),list)});var _curry3$3=_curry3$1;var _reduce$3=_reduce$1;var reduce$1=_curry3$3(_reduce$3);var _curry1$7=_curry1$1;var curryN$3=curryN$1;var max=max$1;var pluck=pluck$1;var reduce=reduce$1;var allPass=_curry1$7(function allPass(preds){return curryN$3(reduce(max,0,pluck("length",preds)),function(){var arguments$1=arguments;var this$1=this;var idx=0;var len=preds.length;while(idx<len){if(!preds[idx].apply(this$1,arguments$1)){return false}idx+=1}return true})});var _curry2$13=_curry2$1;var and=_curry2$13(function and(a,b){return a&&b});var _curry2$15=_curry2$1;var _reduced$3=_reduced$1;var _xfBase$4=_xfBase$1;var _xany$1=function(){function XAny(f,xf){this.xf=xf;this.f=f;this.any=false}XAny.prototype["@@transducer/init"]=_xfBase$4.init;XAny.prototype["@@transducer/result"]=function(result){if(!this.any){result=this.xf["@@transducer/step"](result,false)}return this.xf["@@transducer/result"](result)};XAny.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.any=true;result=_reduced$3(this.xf["@@transducer/step"](result,true))}return result};return _curry2$15(function _xany(f,xf){return new XAny(f,xf)})}();var _curry2$14=_curry2$1;var _dispatchable$4=_dispatchable$1;var _xany=_xany$1;var any=_curry2$14(_dispatchable$4(["any"],_xany,function any(fn,list){var idx=0;while(idx<list.length){if(fn(list[idx])){return true}idx+=1}return false}));var _curry1$10=_curry1$1;var curryN$5=curryN$1;var max$3=max$1;var pluck$3=pluck$1;var reduce$3=reduce$1;var anyPass=_curry1$10(function anyPass(preds){return curryN$5(reduce$3(max$3,0,pluck$3("length",preds)),function(){var arguments$1=arguments;var this$1=this;var idx=0;var len=preds.length;while(idx<len){if(preds[idx].apply(this$1,arguments$1)){return true}idx+=1}return false})});var _concat$4=_concat$1;var _curry2$16=_curry2$1;var _reduce$4=_reduce$1;var map$3=map$1;var ap=_curry2$16(function ap(applicative,fn){return typeof applicative.ap==="function"?applicative.ap(fn):typeof applicative==="function"?function(x){return applicative(x)(fn(x))}:_reduce$4(function(acc,f){return _concat$4(acc,map$3(f,fn))},[],applicative)});var _aperture$1=function _aperture(n,list){var idx=0;var limit=list.length-(n-1);var acc=new Array(limit>=0?limit:0);while(idx<limit){acc[idx]=Array.prototype.slice.call(list,idx,idx+n);idx+=1}return acc};var _concat$5=_concat$1;var _curry2$18=_curry2$1;var _xfBase$5=_xfBase$1;var _xaperture$1=function(){function XAperture(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XAperture.prototype["@@transducer/init"]=_xfBase$5.init;XAperture.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XAperture.prototype["@@transducer/step"]=function(result,input){this.store(input);return this.full?this.xf["@@transducer/step"](result,this.getCopy()):result};XAperture.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};XAperture.prototype.getCopy=function(){return _concat$5(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos));

};return _curry2$18(function _xaperture(n,xf){return new XAperture(n,xf)})}();var _aperture=_aperture$1;var _curry2$17=_curry2$1;var _dispatchable$5=_dispatchable$1;var _xaperture=_xaperture$1;var aperture=_curry2$17(_dispatchable$5([],_xaperture,_aperture));var _concat$6=_concat$1;var _curry2$19=_curry2$1;var append$1=_curry2$19(function append(el,list){return _concat$6(list,[el])});var _curry2$20=_curry2$1;var apply=_curry2$20(function apply(fn,args){return fn.apply(this,args)});var _curry1$12=_curry1$1;var keys$3=keys$1;var values$1=_curry1$12(function values(obj){var props=keys$3(obj);var len=props.length;var vals=[];var idx=0;while(idx<len){vals[idx]=obj[props[idx]];idx+=1}return vals});var _curry1$11=_curry1$1;var apply$2=apply;var curryN$6=curryN$1;var map$4=map$1;var max$4=max$1;var pluck$4=pluck$1;var reduce$4=reduce$1;var values=values$1;var applySpec=_curry1$11(function applySpec(spec){spec=map$4(function(v){return typeof v=="function"?v:applySpec(v)},spec);return curryN$6(reduce$4(max$4,0,pluck$4("length",values(spec))),function(){var args=arguments;return map$4(function(f){return apply$2(f,args)},spec)})});var _curry3$4=_curry3$1;var ascend=_curry3$4(function ascend(fn,a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0});var _curry3$5=_curry3$1;var assoc=_curry3$5(function assoc(prop,val,obj){var result={};for(var p in obj){result[p]=obj[p]}result[prop]=val;return result});var _isInteger$1=Number.isInteger||function _isInteger(n){return n<<0===n};var _curry3$6=_curry3$1;var _has$4=_has$1;var _isArray$4=_isArray$1;var _isInteger=_isInteger$1;var assoc$2=assoc;var assocPath=_curry3$6(function assocPath(path,val,obj){if(path.length===0){return val}var idx=path[0];if(path.length>1){var nextObj=_has$4(idx,obj)?obj[idx]:_isInteger(path[1])?[]:{};val=assocPath(Array.prototype.slice.call(path,1),val,nextObj)}if(_isInteger(idx)&&_isArray$4(obj)){var arr=[].concat(obj);arr[idx]=val;return arr}else{return assoc$2(idx,val,obj)}});var _curry2$21=_curry2$1;var nAry$1=_curry2$21(function nAry(n,fn){switch(n){case 0:return function(){return fn.call(this)};case 1:return function(a0){return fn.call(this,a0)};case 2:return function(a0,a1){return fn.call(this,a0,a1)};case 3:return function(a0,a1,a2){return fn.call(this,a0,a1,a2)};case 4:return function(a0,a1,a2,a3){return fn.call(this,a0,a1,a2,a3)};case 5:return function(a0,a1,a2,a3,a4){return fn.call(this,a0,a1,a2,a3,a4)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.call(this,a0,a1,a2,a3,a4,a5)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.call(this,a0,a1,a2,a3,a4,a5,a6)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});var _curry1$13=_curry1$1;var nAry=nAry$1;var binary=_curry1$13(function binary(fn){return nAry(2,fn)});var _isFunction$1=function _isFunction(x){return Object.prototype.toString.call(x)==="[object Function]"};var _curry2$23=_curry2$1;var _reduce$5=_reduce$1;var ap$2=ap;var curryN$7=curryN$1;var map$5=map$1;var liftN$1=_curry2$23(function liftN(arity,fn){var lifted=curryN$7(arity,fn);return curryN$7(arity,function(){return _reduce$5(ap$2,map$5(lifted,arguments[0]),Array.prototype.slice.call(arguments,1))})});var _curry1$14=_curry1$1;var liftN=liftN$1;var lift$1=_curry1$14(function lift(fn){return liftN(fn.length,fn)});var _curry2$22=_curry2$1;var _isFunction=_isFunction$1;var and$2=and;var lift=lift$1;var both=_curry2$22(function both(f,g){return _isFunction(f)?function _both(){return f.apply(this,arguments)&&g.apply(this,arguments)}:lift(and$2)(f,g)});var _curry1$15=_curry1$1;var curryN$8=curryN$1;var curry$1=_curry1$15(function curry(fn){return curryN$8(fn.length,fn)});var curry=curry$1;var call=curry(function call(fn){return fn.apply(this,Array.prototype.slice.call(arguments,1))});var isArrayLike$3=isArrayLike$1;var _makeFlat$1=function _makeFlat(recursive){return function flatt(list){var value,jlen,j;var result=[];var idx=0;var ilen=list.length;while(idx<ilen){if(isArrayLike$3(list[idx])){value=recursive?flatt(list[idx]):list[idx];j=0;jlen=value.length;while(j<jlen){result[result.length]=value[j];j+=1}}else{result[result.length]=list[idx]}idx+=1}return result}};var _forceReduced$1=function _forceReduced(x){return{"@@transducer/value":x,"@@transducer/reduced":true}};var _forceReduced=_forceReduced$1;var _reduce$6=_reduce$1;var _xfBase$6=_xfBase$1;var isArrayLike$4=isArrayLike$1;var _flatCat$1=function(){var preservingReduced=function(xf){return{"@@transducer/init":_xfBase$6.init,"@@transducer/result":function(result){return xf["@@transducer/result"](result)},"@@transducer/step":function(result,input){var ret=xf["@@transducer/step"](result,input);return ret["@@transducer/reduced"]?_forceReduced(ret):ret}}};return function _xcat(xf){var rxf=preservingReduced(xf);return{"@@transducer/init":_xfBase$6.init,"@@transducer/result":function(result){return rxf["@@transducer/result"](result)},"@@transducer/step":function(result,input){return!isArrayLike$4(input)?_reduce$6(rxf,result,[input]):_reduce$6(rxf,result,input)}}}}();var _curry2$25=_curry2$1;var _flatCat=_flatCat$1;var map$7=map$1;var _xchain$1=_curry2$25(function _xchain(f,xf){return map$7(f,_flatCat(xf))});var _curry2$24=_curry2$1;var _dispatchable$6=_dispatchable$1;var _makeFlat=_makeFlat$1;var _xchain=_xchain$1;var map$6=map$1;var chain=_curry2$24(_dispatchable$6(["chain"],_xchain,function chain(fn,monad){if(typeof monad==="function"){return function(x){return fn(monad(x))(x)}}return _makeFlat(false)(map$6(fn,monad))}));var _curry3$7=_curry3$1;var clamp=_curry3$7(function clamp(min,max,value){if(min>max){throw new Error("min must not be greater than max in clamp(min, max, value)")}return value<min?min:value>max?max:value});var _cloneRegExp$1=function _cloneRegExp(pattern){return new RegExp(pattern.source,(pattern.global?"g":"")+(pattern.ignoreCase?"i":"")+(pattern.multiline?"m":"")+(pattern.sticky?"y":"")+(pattern.unicode?"u":""))};var _curry1$17=_curry1$1;var type$1=_curry1$17(function type(val){return val===null?"Null":val===undefined?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});var _cloneRegExp=_cloneRegExp$1;var type=type$1;var _clone$1=function _clone(value,refFrom,refTo,deep){var copy=function copy(copiedValue){var len=refFrom.length;var idx=0;while(idx<len){if(value===refFrom[idx]){return refTo[idx]}idx+=1}refFrom[idx+1]=value;refTo[idx+1]=copiedValue;for(var key in value){copiedValue[key]=deep?_clone(value[key],refFrom,refTo,true):value[key]}return copiedValue};switch(type(value)){case"Object":return copy({});case"Array":return copy([]);case"Date":return new Date(value.valueOf());case"RegExp":return _cloneRegExp(value);default:return value}};var _clone=_clone$1;var _curry1$16=_curry1$1;var clone=_curry1$16(function clone(value){return value!=null&&typeof value.clone==="function"?value.clone():_clone(value,[],[],true)});var _curry1$18=_curry1$1;var comparator=_curry1$18(function comparator(pred){return function(a,b){return pred(a,b)?-1:pred(b,a)?1:0}});var _curry1$19=_curry1$1;var not$1=_curry1$19(function not(a){return!a});var lift$3=lift$1;var not=not$1;var complement=lift$3(not);var _pipe$1=function _pipe(f,g){return function(){return g.call(this,f.apply(this,arguments))}};var _isArray$5=_isArray$1;var _checkForMethod$1=function _checkForMethod(methodname,fn){return function(){var length=arguments.length;if(length===0){return fn()}var obj=arguments[length-1];return _isArray$5(obj)||typeof obj[methodname]!=="function"?fn.apply(this,arguments):obj[methodname].apply(obj,Array.prototype.slice.call(arguments,0,length-1))}};var _checkForMethod$3=_checkForMethod$1;var _curry3$8=_curry3$1;var slice$1=_curry3$8(_checkForMethod$3("slice",function slice(fromIndex,toIndex,list){return Array.prototype.slice.call(list,fromIndex,toIndex)}));var _checkForMethod=_checkForMethod$1;var _curry1$20=_curry1$1;var slice=slice$1;var tail$1=_curry1$20(_checkForMethod("tail",slice(1,Infinity)));var _arity$5=_arity$1;var _pipe=_pipe$1;var reduce$5=reduce$1;var tail=tail$1;var pipe$1=function pipe(){if(arguments.length===0){throw new Error("pipe requires at least one argument")}return _arity$5(arguments[0].length,reduce$5(_pipe,arguments[0],tail(arguments)))};var _curry1$21=_curry1$1;var _isString$3=_isString$1;var reverse$1=_curry1$21(function reverse(list){return _isString$3(list)?list.split("").reverse().join(""):Array.prototype.slice.call(list,0).reverse()});var pipe=pipe$1;var reverse=reverse$1;var compose=function compose(){if(arguments.length===0){throw new Error("compose requires at least one argument")}return pipe.apply(this,reverse(arguments))};var chain$2=chain;var compose$2=compose;var map$8=map$1;var composeK=function composeK(){if(arguments.length===0){throw new Error("composeK requires at least one argument")}var init=Array.prototype.slice.call(arguments);var last=init.pop();return compose$2(compose$2.apply(this,map$8(chain$2,init)),last)};var _pipeP$1=function _pipeP(f,g){return function(){var ctx=this;return f.apply(ctx,arguments).then(function(x){return g.call(ctx,x)})}};var _arity$6=_arity$1;var _pipeP=_pipeP$1;var reduce$6=reduce$1;var tail$3=tail$1;var pipeP$1=function pipeP(){if(arguments.length===0){throw new Error("pipeP requires at least one argument")}return _arity$6(arguments[0].length,reduce$6(_pipeP,arguments[0],tail$3(arguments)))};var pipeP=pipeP$1;var reverse$3=reverse$1;var composeP=function composeP(){if(arguments.length===0){throw new Error("composeP requires at least one argument")}return pipeP.apply(this,reverse$3(arguments))};var _arrayFromIterator$1=function _arrayFromIterator(iter){var list=[];var next;while(!(next=iter.next()).done){list.push(next.value)}return list};var _functionName$1=function _functionName(f){var match=String(f).match(/^function (\w*)/);return match==null?"":match[1]};var _curry2$28=_curry2$1;var identical$1=_curry2$28(function identical(a,b){if(a===b){return a!==0||1/a===1/b}else{return a!==a&&b!==b}});var _arrayFromIterator=_arrayFromIterator$1;var _functionName=_functionName$1;var _has$5=_has$1;var identical=identical$1;var keys$5=keys$1;var type$3=type$1;var _equals$1=function _equals(a,b,stackA,stackB){if(identical(a,b)){return true}if(type$3(a)!==type$3(b)){return false}if(a==null||b==null){return false}if(typeof a.equals==="function"||typeof b.equals==="function"){return typeof a.equals==="function"&&a.equals(b)&&typeof b.equals==="function"&&b.equals(a)}switch(type$3(a)){case"Arguments":case"Array":case"Object":if(typeof a.constructor==="function"&&_functionName(a.constructor)==="Promise"){return a===b}break;case"Boolean":case"Number":case"String":if(!(typeof a===typeof b&&identical(a.valueOf(),b.valueOf()))){return false}break;case"Date":if(!identical(a.valueOf(),b.valueOf())){return false}break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(!(a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline&&a.sticky===b.sticky&&a.unicode===b.unicode)){return false}break;case"Map":case"Set":if(!_equals(_arrayFromIterator(a.entries()),_arrayFromIterator(b.entries()),stackA,stackB)){return false}break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":break;case"ArrayBuffer":break;default:return false}var keysA=keys$5(a);if(keysA.length!==keys$5(b).length){return false}var idx=stackA.length-1;while(idx>=0){if(stackA[idx]===a){return stackB[idx]===b}idx-=1}stackA.push(a);stackB.push(b);idx=keysA.length-1;while(idx>=0){var key=keysA[idx];if(!(_has$5(key,b)&&_equals(b[key],a[key],stackA,stackB))){return false}idx-=1}stackA.pop();stackB.pop();return true};var _curry2$27=_curry2$1;var _equals=_equals$1;var equals$1=_curry2$27(function equals(a,b){return _equals(a,b,[],[])});var equals=equals$1;var _indexOf$1=function _indexOf(list,a,idx){var inf,item;if(typeof list.indexOf==="function"){switch(typeof a){case"number":if(a===0){inf=1/a;while(idx<list.length){item=list[idx];if(item===0&&1/item===inf){return idx}idx+=1}return-1}else if(a!==a){while(idx<list.length){item=list[idx];if(typeof item==="number"&&item!==item){return idx}idx+=1}return-1}return list.indexOf(a,idx);case"string":case"boolean":case"function":case"undefined":return list.indexOf(a,idx);case"object":if(a===null){return list.indexOf(a,idx)}}}while(idx<list.length){if(equals(list[idx],a)){return idx}idx+=1}return-1};var _indexOf=_indexOf$1;var _contains$1=function _contains(a,list){return _indexOf(list,a,0)>=0};var _quote$1=function _quote(s){var escaped=s.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+escaped.replace(/"/g,'\\"')+'"'};var _toISOString$1=function(){var pad=function pad(n){return(n<10?"0":"")+n};return typeof Date.prototype.toISOString==="function"?function _toISOString(d){return d.toISOString()}:function _toISOString(d){return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"."+(d.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();var _complement$1=function _complement(f){return function(){return!f.apply(this,arguments)}};var _filter$1=function _filter(fn,list){var idx=0;var len=list.length;var result=[];while(idx<len){if(fn(list[idx])){result[result.length]=list[idx]}idx+=1}return result};var _isObject$1=function _isObject(x){return Object.prototype.toString.call(x)==="[object Object]"};var _curry2$31=_curry2$1;var _xfBase$7=_xfBase$1;var _xfilter$1=function(){function XFilter(f,xf){this.xf=xf;this.f=f}XFilter.prototype["@@transducer/init"]=_xfBase$7.init;XFilter.prototype["@@transducer/result"]=_xfBase$7.result;XFilter.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):result};return _curry2$31(function _xfilter(f,xf){return new XFilter(f,xf)})}();var _curry2$30=_curry2$1;var _dispatchable$7=_dispatchable$1;var _filter=_filter$1;var _isObject=_isObject$1;var _reduce$7=_reduce$1;var _xfilter=_xfilter$1;var keys$6=keys$1;var filter$1=_curry2$30(_dispatchable$7(["filter"],_xfilter,function(pred,filterable){return _isObject(filterable)?_reduce$7(function(acc,key){if(pred(filterable[key])){acc[key]=filterable[key]}return acc},{},keys$6(filterable)):_filter(pred,filterable)}));var _complement=_complement$1;var _curry2$29=_curry2$1;var filter=filter$1;var reject$1=_curry2$29(function reject(pred,filterable){return filter(_complement(pred),filterable)});var _contains=_contains$1;var _map$3=_map$1;var _quote=_quote$1;var _toISOString=_toISOString$1;var keys$4=keys$1;var reject=reject$1;var _toString$1=function _toString(x,seen){var recur=function recur(y){var xs=seen.concat([x]);return _contains(y,xs)?"<Circular>":_toString(y,xs)};var mapPairs=function(obj,keys){return _map$3(function(k){return _quote(k)+": "+recur(obj[k])},keys.slice().sort())};switch(Object.prototype.toString.call(x)){case"[object Arguments]":return"(function() { return arguments; }("+_map$3(recur,x).join(", ")+"))";case"[object Array]":return"["+_map$3(recur,x).concat(mapPairs(x,reject(function(k){return/^\d+$/.test(k)},keys$4(x)))).join(", ")+"]";case"[object Boolean]":return typeof x==="object"?"new Boolean("+recur(x.valueOf())+")":x.toString();case"[object Date]":return"new Date("+(isNaN(x.valueOf())?recur(NaN):_quote(_toISOString(x)))+")";case"[object Null]":return"null";case"[object Number]":return typeof x==="object"?"new Number("+recur(x.valueOf())+")":1/x===-Infinity?"-0":x.toString(10);case"[object String]":return typeof x==="object"?"new String("+recur(x.valueOf())+")":_quote(x);case"[object Undefined]":return"undefined";default:if(typeof x.toString==="function"){var repr=x.toString();if(repr!=="[object Object]"){return repr}}return"{"+mapPairs(x,keys$4(x)).join(", ")+"}"}};var _curry1$22=_curry1$1;var _toString=_toString$1;var toString_1=_curry1$22(function toString(val){return _toString(val,[])});var _curry2$26=_curry2$1;var _isArray$6=_isArray$1;var _isFunction$3=_isFunction$1;var toString=toString_1;var concat=_curry2$26(function concat(a,b){if(a==null||!_isFunction$3(a.concat)){throw new TypeError(toString(a)+' does not have a method named "concat"')}if(_isArray$6(a)&&!_isArray$6(b)){throw new TypeError(toString(b)+" is not an array")}return a.concat(b)});var _arity$7=_arity$1;var _curry1$23=_curry1$1;var map$9=map$1;var max$5=max$1;var reduce$7=reduce$1;var cond=_curry1$23(function cond(pairs){var arity=reduce$7(max$5,0,map$9(function(pair){return pair[0].length},pairs));return _arity$7(arity,function(){var arguments$1=arguments;var this$1=this;var idx=0;while(idx<pairs.length){if(pairs[idx][0].apply(this$1,arguments$1)){return pairs[idx][1].apply(this$1,arguments$1)}idx+=1}})});var _curry2$32=_curry2$1;var curry$3=curry$1;var nAry$3=nAry$1;var constructN$1=_curry2$32(function constructN(n,Fn){if(n>10){throw new Error("Constructor with greater than ten arguments")}if(n===0){return function(){return new Fn}}return curry$3(nAry$3(n,function($0,$1,$2,$3,$4,$5,$6,$7,$8,$9){switch(arguments.length){case 1:return new Fn($0);case 2:return new Fn($0,$1);case 3:return new Fn($0,$1,$2);case 4:return new Fn($0,$1,$2,$3);case 5:return new Fn($0,$1,$2,$3,$4);case 6:return new Fn($0,$1,$2,$3,$4,$5);case 7:return new Fn($0,$1,$2,$3,$4,$5,$6);case 8:return new Fn($0,$1,$2,$3,$4,$5,$6,$7);case 9:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8);case 10:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8,$9)}}))});var _curry1$24=_curry1$1;var constructN=constructN$1;var construct=_curry1$24(function construct(Fn){return constructN(Fn.length,Fn)});var _contains$3=_contains$1;var _curry2$33=_curry2$1;var contains$1=_curry2$33(_contains$3);var _curry2$34=_curry2$1;var _map$4=_map$1;var curryN$9=curryN$1;var max$6=max$1;var pluck$5=pluck$1;var reduce$8=reduce$1;var converge=_curry2$34(function converge(after,fns){return curryN$9(reduce$8(max$6,0,pluck$5("length",fns)),function(){var args=arguments;var context=this;return after.apply(context,_map$4(function(fn){return fn.apply(context,args)},fns))})});var _curryN$4=_curryN$1;var _has$7=_has$1;var _xfBase$8=_xfBase$1;var _xreduceBy$1=function(){function XReduceBy(valueFn,valueAcc,keyFn,xf){this.valueFn=valueFn;this.valueAcc=valueAcc;this.keyFn=keyFn;this.xf=xf;this.inputs={}}XReduceBy.prototype["@@transducer/init"]=_xfBase$8.init;XReduceBy.prototype["@@transducer/result"]=function(result){var this$1=this;var key;for(key in this$1.inputs){if(_has$7(key,this$1.inputs)){result=this$1.xf["@@transducer/step"](result,this$1.inputs[key]);if(result["@@transducer/reduced"]){result=result["@@transducer/value"];break}}}this.inputs=null;return this.xf["@@transducer/result"](result)};XReduceBy.prototype["@@transducer/step"]=function(result,input){var key=this.keyFn(input);this.inputs[key]=this.inputs[key]||[key,this.valueAcc];this.inputs[key][1]=this.valueFn(this.inputs[key][1],input);return result};return _curryN$4(4,[],function _xreduceBy(valueFn,valueAcc,keyFn,xf){return new XReduceBy(valueFn,valueAcc,keyFn,xf)})}();var _curryN$3=_curryN$1;var _dispatchable$8=_dispatchable$1;var _has$6=_has$1;var _reduce$8=_reduce$1;var _xreduceBy=_xreduceBy$1;var reduceBy$1=_curryN$3(4,[],_dispatchable$8([],_xreduceBy,function reduceBy(valueFn,valueAcc,keyFn,list){return _reduce$8(function(acc,elt){var key=keyFn(elt);acc[key]=valueFn(_has$6(key,acc)?acc[key]:valueAcc,elt);return acc},{},list)}));var reduceBy=reduceBy$1;var countBy=reduceBy(function(acc,elem){return acc+1},0);var add$2=add;var dec=add$2(-1);var _curry3$9=_curry3$1;var descend=_curry3$9(function descend(fn,a,b){var aa=fn(a);var bb=fn(b);return aa>bb?-1:aa<bb?1:0});var _curry2$35=_curry2$1;var defaultTo=_curry2$35(function defaultTo(d,v){return v==null||v!==v?d:v});var _contains$4=_contains$1;var _curry2$36=_curry2$1;var difference=_curry2$36(function difference(first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_contains$4(first[idx],second)&&!_contains$4(first[idx],out)){out[out.length]=first[idx]}idx+=1}return out});var _containsWith$1=function _containsWith(pred,x,list){var idx=0;var len=list.length;while(idx<len){if(pred(x,list[idx])){return true}idx+=1}return false};var _containsWith=_containsWith$1;var _curry3$10=_curry3$1;var differenceWith=_curry3$10(function differenceWith(pred,first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_containsWith(pred,first[idx],second)&&!_containsWith(pred,first[idx],out)){out.push(first[idx])}idx+=1}return out});var _curry2$37=_curry2$1;var dissoc=_curry2$37(function dissoc(prop,obj){var result={};for(var p in obj){result[p]=obj[p]}delete result[prop];return result});var _curry2$38=_curry2$1;var assoc$3=assoc;var dissoc$2=dissoc;var dissocPath=_curry2$38(function dissocPath(path,obj){switch(path.length){case 0:return obj;case 1:return dissoc$2(path[0],obj);default:var head=path[0];var tail=Array.prototype.slice.call(path,1);return obj[head]==null?obj:assoc$3(head,dissocPath(tail,obj[head]),obj)}});var _curry2$39=_curry2$1;var divide=_curry2$39(function divide(a,b){return a/b});var _curry2$41=_curry2$1;var _xfBase$9=_xfBase$1;var _xdrop$1=function(){function XDrop(n,xf){this.xf=xf;this.n=n}XDrop.prototype["@@transducer/init"]=_xfBase$9.init;XDrop.prototype["@@transducer/result"]=_xfBase$9.result;XDrop.prototype["@@transducer/step"]=function(result,input){if(this.n>0){this.n-=1;return result}return this.xf["@@transducer/step"](result,input)};return _curry2$41(function _xdrop(n,xf){return new XDrop(n,xf)})}();var _curry2$40=_curry2$1;var _dispatchable$9=_dispatchable$1;var _xdrop=_xdrop$1;var slice$3=slice$1;var drop=_curry2$40(_dispatchable$9(["drop"],_xdrop,function drop(n,xs){return slice$3(Math.max(0,n),Infinity,xs)}));var _curry2$44=_curry2$1;var _reduced$4=_reduced$1;var _xfBase$10=_xfBase$1;var _xtake$1=function(){function XTake(n,xf){this.xf=xf;this.n=n;this.i=0}XTake.prototype["@@transducer/init"]=_xfBase$10.init;XTake.prototype["@@transducer/result"]=_xfBase$10.result;XTake.prototype["@@transducer/step"]=function(result,input){this.i+=1;var ret=this.n===0?result:this.xf["@@transducer/step"](result,input);return this.i>=this.n?_reduced$4(ret):ret};return _curry2$44(function _xtake(n,xf){return new XTake(n,xf)})}();var _curry2$43=_curry2$1;var _dispatchable$11=_dispatchable$1;var _xtake=_xtake$1;var slice$4=slice$1;var take$1=_curry2$43(_dispatchable$11(["take"],_xtake,function take(n,xs){return slice$4(0,n<0?Infinity:n,xs)}));var take=take$1;var _dropLast$1=function dropLast(n,xs){return take(n<xs.length?xs.length-n:0,xs)};var _curry2$45=_curry2$1;var _xfBase$11=_xfBase$1;var _xdropLast$1=function(){function XDropLast(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XDropLast.prototype["@@transducer/init"]=_xfBase$11.init;XDropLast.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XDropLast.prototype["@@transducer/step"]=function(result,input){if(this.full){result=this.xf["@@transducer/step"](result,this.acc[this.pos])}this.store(input);return result};XDropLast.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};return _curry2$45(function _xdropLast(n,xf){return new XDropLast(n,xf)})}();var _curry2$42=_curry2$1;var _dispatchable$10=_dispatchable$1;var _dropLast=_dropLast$1;var _xdropLast=_xdropLast$1;var dropLast=_curry2$42(_dispatchable$10([],_xdropLast,_dropLast));var _dropLastWhile$1=function dropLastWhile(pred,list){var idx=list.length-1;while(idx>=0&&pred(list[idx])){idx-=1}return Array.prototype.slice.call(list,0,idx+1)};var _curry2$47=_curry2$1;var _reduce$9=_reduce$1;var _xfBase$12=_xfBase$1;var _xdropLastWhile$1=function(){function XDropLastWhile(fn,xf){this.f=fn;this.retained=[];this.xf=xf}XDropLastWhile.prototype["@@transducer/init"]=_xfBase$12.init;XDropLastWhile.prototype["@@transducer/result"]=function(result){this.retained=null;return this.xf["@@transducer/result"](result)};XDropLastWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.retain(result,input):this.flush(result,input)};XDropLastWhile.prototype.flush=function(result,input){result=_reduce$9(this.xf["@@transducer/step"],result,this.retained);this.retained=[];return this.xf["@@transducer/step"](result,input)};XDropLastWhile.prototype.retain=function(result,input){this.retained.push(input);return result};return _curry2$47(function _xdropLastWhile(fn,xf){return new XDropLastWhile(fn,xf)})}();var _curry2$46=_curry2$1;var _dispatchable$12=_dispatchable$1;var _dropLastWhile=_dropLastWhile$1;var _xdropLastWhile=_xdropLastWhile$1;var dropLastWhile=_curry2$46(_dispatchable$12([],_xdropLastWhile,_dropLastWhile));var _curry2$48=_curry2$1;var _xfBase$13=_xfBase$1;var _xdropRepeatsWith$1=function(){function XDropRepeatsWith(pred,xf){this.xf=xf;this.pred=pred;this.lastValue=undefined;this.seenFirstValue=false}XDropRepeatsWith.prototype["@@transducer/init"]=_xfBase$13.init;XDropRepeatsWith.prototype["@@transducer/result"]=_xfBase$13.result;XDropRepeatsWith.prototype["@@transducer/step"]=function(result,input){var sameAsLast=false;if(!this.seenFirstValue){this.seenFirstValue=true}else if(this.pred(this.lastValue,input)){sameAsLast=true}this.lastValue=input;return sameAsLast?result:this.xf["@@transducer/step"](result,input)};return _curry2$48(function _xdropRepeatsWith(pred,xf){return new XDropRepeatsWith(pred,xf)})}();var _curry2$50=_curry2$1;var _isString$4=_isString$1;var nth$1=_curry2$50(function nth(offset,list){var idx=offset<0?list.length+offset:offset;return _isString$4(list)?list.charAt(idx):list[idx]});var nth=nth$1;var last$1=nth(-1);var _curry2$49=_curry2$1;var _dispatchable$14=_dispatchable$1;var _xdropRepeatsWith$3=_xdropRepeatsWith$1;var last=last$1;var dropRepeatsWith$1=_curry2$49(_dispatchable$14([],_xdropRepeatsWith$3,function dropRepeatsWith(pred,list){var result=[];var idx=1;var len=list.length;if(len!==0){result[0]=list[0];while(idx<len){if(!pred(last(result),list[idx])){result[result.length]=list[idx]}idx+=1}}return result}));var _curry1$25=_curry1$1;var _dispatchable$13=_dispatchable$1;var _xdropRepeatsWith=_xdropRepeatsWith$1;var dropRepeatsWith=dropRepeatsWith$1;var equals$3=equals$1;var dropRepeats=_curry1$25(_dispatchable$13([],_xdropRepeatsWith(equals$3),dropRepeatsWith(equals$3)));var _curry2$52=_curry2$1;var _xfBase$14=_xfBase$1;var _xdropWhile$1=function(){function XDropWhile(f,xf){this.xf=xf;this.f=f}XDropWhile.prototype["@@transducer/init"]=_xfBase$14.init;XDropWhile.prototype["@@transducer/result"]=_xfBase$14.result;XDropWhile.prototype["@@transducer/step"]=function(result,input){if(this.f){if(this.f(input)){return result}this.f=null}return this.xf["@@transducer/step"](result,input)};return _curry2$52(function _xdropWhile(f,xf){return new XDropWhile(f,xf)})}();var _curry2$51=_curry2$1;var _dispatchable$15=_dispatchable$1;var _xdropWhile=_xdropWhile$1;var dropWhile=_curry2$51(_dispatchable$15(["dropWhile"],_xdropWhile,function dropWhile(pred,list){var idx=0;var len=list.length;while(idx<len&&pred(list[idx])){idx+=1}return Array.prototype.slice.call(list,idx)}));var _curry2$54=_curry2$1;var or$1=_curry2$54(function or(a,b){return a||b});var _curry2$53=_curry2$1;var _isFunction$4=_isFunction$1;var lift$4=lift$1;var or=or$1;var either=_curry2$53(function either(f,g){return _isFunction$4(f)?function _either(){return f.apply(this,arguments)||g.apply(this,arguments)}:lift$4(or)(f,g)});var _curry1$26=_curry1$1;var _isArguments$3=_isArguments$1;var _isArray$7=_isArray$1;var _isObject$3=_isObject$1;var _isString$5=_isString$1;var empty=_curry1$26(function empty(x){return x!=null&&typeof x.empty==="function"?x.empty():x!=null&&x.constructor!=null&&typeof x.constructor.empty==="function"?x.constructor.empty():_isArray$7(x)?[]:_isString$5(x)?"":_isObject$3(x)?{}:_isArguments$3(x)?function(){return arguments}():void 0});var _curry3$11=_curry3$1;var equals$4=equals$1;var eqBy=_curry3$11(function eqBy(f,x,y){return equals$4(f(x),f(y))});var _curry3$12=_curry3$1;var equals$5=equals$1;var eqProps=_curry3$12(function eqProps(prop,obj1,obj2){return equals$5(obj1[prop],obj2[prop])});var _curry2$55=_curry2$1;var evolve=_curry2$55(function evolve(transformations,object){var result={};var transformation,key,type;for(key in object){transformation=transformations[key];type=typeof transformation;result[key]=type==="function"?transformation(object[key]):transformation&&type==="object"?evolve(transformation,object[key]):object[key]}return result});var _curry2$57=_curry2$1;var _reduced$5=_reduced$1;var _xfBase$15=_xfBase$1;var _xfind$1=function(){function XFind(f,xf){this.xf=xf;this.f=f;this.found=false}XFind.prototype["@@transducer/init"]=_xfBase$15.init;XFind.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,void 0)}return this.xf["@@transducer/result"](result)};XFind.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.found=true;result=_reduced$5(this.xf["@@transducer/step"](result,input))}return result};return _curry2$57(function _xfind(f,xf){return new XFind(f,xf)})}();var _curry2$56=_curry2$1;var _dispatchable$16=_dispatchable$1;var _xfind=_xfind$1;var find=_curry2$56(_dispatchable$16(["find"],_xfind,function find(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return list[idx]}idx+=1}}));var _curry2$59=_curry2$1;var _reduced$6=_reduced$1;var _xfBase$16=_xfBase$1;var _xfindIndex$1=function(){function XFindIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.found=false}XFindIndex.prototype["@@transducer/init"]=_xfBase$16.init;XFindIndex.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,-1)}return this.xf["@@transducer/result"](result)};XFindIndex.prototype["@@transducer/step"]=function(result,input){this.idx+=1;if(this.f(input)){this.found=true;result=_reduced$6(this.xf["@@transducer/step"](result,this.idx))}return result};return _curry2$59(function _xfindIndex(f,xf){return new XFindIndex(f,xf)})}();var _curry2$58=_curry2$1;var _dispatchable$17=_dispatchable$1;var _xfindIndex=_xfindIndex$1;var findIndex=_curry2$58(_dispatchable$17([],_xfindIndex,function findIndex(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return idx}idx+=1}return-1}));var _curry2$61=_curry2$1;var _xfBase$17=_xfBase$1;var _xfindLast$1=function(){function XFindLast(f,xf){this.xf=xf;this.f=f}XFindLast.prototype["@@transducer/init"]=_xfBase$17.init;XFindLast.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.last))};XFindLast.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.last=input}return result};return _curry2$61(function _xfindLast(f,xf){return new XFindLast(f,xf)})}();var _curry2$60=_curry2$1;var _dispatchable$18=_dispatchable$1;var _xfindLast=_xfindLast$1;var findLast=_curry2$60(_dispatchable$18([],_xfindLast,function findLast(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return list[idx]}idx-=1}}));var _curry2$63=_curry2$1;var _xfBase$18=_xfBase$1;var _xfindLastIndex$1=function(){function XFindLastIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.lastIdx=-1}XFindLastIndex.prototype["@@transducer/init"]=_xfBase$18.init;XFindLastIndex.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.lastIdx))};XFindLastIndex.prototype["@@transducer/step"]=function(result,input){
this.idx+=1;if(this.f(input)){this.lastIdx=this.idx}return result};return _curry2$63(function _xfindLastIndex(f,xf){return new XFindLastIndex(f,xf)})}();var _curry2$62=_curry2$1;var _dispatchable$19=_dispatchable$1;var _xfindLastIndex=_xfindLastIndex$1;var findLastIndex=_curry2$62(_dispatchable$19([],_xfindLastIndex,function findLastIndex(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return idx}idx-=1}return-1}));var _curry1$27=_curry1$1;var _makeFlat$3=_makeFlat$1;var flatten=_curry1$27(_makeFlat$3(true));var _curry1$28=_curry1$1;var curry$4=curry$1;var flip=_curry1$28(function flip(fn){return curry$4(function(a,b){var args=Array.prototype.slice.call(arguments,0);args[0]=b;args[1]=a;return fn.apply(this,args)})});var _checkForMethod$4=_checkForMethod$1;var _curry2$64=_curry2$1;var forEach=_curry2$64(_checkForMethod$4("forEach",function forEach(fn,list){var len=list.length;var idx=0;while(idx<len){fn(list[idx]);idx+=1}return list}));var _curry2$65=_curry2$1;var keys$7=keys$1;var forEachObjIndexed=_curry2$65(function forEachObjIndexed(fn,obj){var keyList=keys$7(obj);var idx=0;while(idx<keyList.length){var key=keyList[idx];fn(obj[key],key,obj);idx+=1}return obj});var _curry1$29=_curry1$1;var fromPairs=_curry1$29(function fromPairs(pairs){var result={};var idx=0;while(idx<pairs.length){result[pairs[idx][0]]=pairs[idx][1];idx+=1}return result});var _checkForMethod$5=_checkForMethod$1;var _curry2$66=_curry2$1;var reduceBy$3=reduceBy$1;var groupBy=_curry2$66(_checkForMethod$5("groupBy",reduceBy$3(function(acc,item){if(acc==null){acc=[]}acc.push(item);return acc},null)));var _curry2$67=_curry2$1;var groupWith=_curry2$67(function(fn,list){var res=[];var idx=0;var len=list.length;while(idx<len){var nextidx=idx+1;while(nextidx<len&&fn(list[idx],list[nextidx])){nextidx+=1}res.push(list.slice(idx,nextidx));idx=nextidx}return res});var _curry2$68=_curry2$1;var gt=_curry2$68(function gt(a,b){return a>b});var _curry2$69=_curry2$1;var gte=_curry2$69(function gte(a,b){return a>=b});var _curry2$70=_curry2$1;var _has$8=_has$1;var has=_curry2$70(_has$8);var _curry2$71=_curry2$1;var hasIn=_curry2$71(function hasIn(prop,obj){return prop in obj});var nth$3=nth$1;var head=nth$3(0);var _identity$1=function _identity(x){return x};var _curry1$30=_curry1$1;var _identity=_identity$1;var identity=_curry1$30(_identity);var _curry3$13=_curry3$1;var curryN$10=curryN$1;var ifElse=_curry3$13(function ifElse(condition,onTrue,onFalse){return curryN$10(Math.max(condition.length,onTrue.length,onFalse.length),function _ifElse(){return condition.apply(this,arguments)?onTrue.apply(this,arguments):onFalse.apply(this,arguments)})});var add$3=add;var inc=add$3(1);var reduceBy$4=reduceBy$1;var indexBy=reduceBy$4(function(acc,elem){return elem},null);var _curry2$72=_curry2$1;var _indexOf$3=_indexOf$1;var _isArray$8=_isArray$1;var indexOf=_curry2$72(function indexOf(target,xs){return typeof xs.indexOf==="function"&&!_isArray$8(xs)?xs.indexOf(target):_indexOf$3(xs,target,0)});var slice$5=slice$1;var init=slice$5(0,-1);var _curry3$14=_curry3$1;var insert$1=_curry3$14(function insert(idx,elt,list){idx=idx<list.length&&idx>=0?idx:list.length;var result=Array.prototype.slice.call(list,0);result.splice(idx,0,elt);return result});var _curry3$15=_curry3$1;var insertAll=_curry3$15(function insertAll(idx,elts,list){idx=idx<list.length&&idx>=0?idx:list.length;return[].concat(Array.prototype.slice.call(list,0,idx),elts,Array.prototype.slice.call(list,idx))});var _contains$6=_contains$1;var _Set$1=function(){function _Set(){this._nativeSet=typeof Set==="function"?new Set:null;this._items={}}_Set.prototype.add=function(item){return!hasOrAdd(item,true,this)};_Set.prototype.has=function(item){return hasOrAdd(item,false,this)};function hasOrAdd(item,shouldAdd,set){var type=typeof item;var prevSize,newSize;switch(type){case"string":case"number":if(item===0&&1/item===-Infinity){if(set._items["-0"]){return true}else{if(shouldAdd){set._items["-0"]=true}return false}}if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize===prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]={};set._items[type][item]=true}return false}else if(item in set._items[type]){return true}else{if(shouldAdd){set._items[type][item]=true}return false}}case"boolean":if(type in set._items){var bIdx=item?1:0;if(set._items[type][bIdx]){return true}else{if(shouldAdd){set._items[type][bIdx]=true}return false}}else{if(shouldAdd){set._items[type]=item?[false,true]:[true,false]}return false}case"function":if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize===prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains$6(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}case"undefined":if(set._items[type]){return true}else{if(shouldAdd){set._items[type]=true}return false}case"object":if(item===null){if(!set._items["null"]){if(shouldAdd){set._items["null"]=true}return false}return true}default:type=Object.prototype.toString.call(item);if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains$6(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}}return _Set}();var _Set=_Set$1;var _curry2$74=_curry2$1;var uniqBy$1=_curry2$74(function uniqBy(fn,list){var set=new _Set;var result=[];var idx=0;var appliedItem,item;while(idx<list.length){item=list[idx];appliedItem=fn(item);if(set.add(appliedItem)){result.push(item)}idx+=1}return result});var identity$2=identity;var uniqBy=uniqBy$1;var uniq$1=uniqBy(identity$2);var _contains$5=_contains$1;var _curry2$73=_curry2$1;var _filter$3=_filter$1;var flip$2=flip;var uniq=uniq$1;var intersection=_curry2$73(function intersection(list1,list2){var lookupList,filteredList;if(list1.length>list2.length){lookupList=list1;filteredList=list2}else{lookupList=list2;filteredList=list1}return uniq(_filter$3(flip$2(_contains$5)(lookupList),filteredList))});var _containsWith$4=_containsWith$1;var _curry2$75=_curry2$1;var uniqWith$1=_curry2$75(function uniqWith(pred,list){var idx=0;var len=list.length;var result=[];var item;while(idx<len){item=list[idx];if(!_containsWith$4(pred,item,result)){result[result.length]=item}idx+=1}return result});var _containsWith$3=_containsWith$1;var _curry3$16=_curry3$1;var uniqWith=uniqWith$1;var intersectionWith=_curry3$16(function intersectionWith(pred,list1,list2){var lookupList,filteredList;if(list1.length>list2.length){lookupList=list1;filteredList=list2}else{lookupList=list2;filteredList=list1}var results=[];var idx=0;while(idx<filteredList.length){if(_containsWith$3(pred,filteredList[idx],lookupList)){results[results.length]=filteredList[idx]}idx+=1}return uniqWith(pred,results)});var _checkForMethod$6=_checkForMethod$1;var _curry2$76=_curry2$1;var intersperse=_curry2$76(_checkForMethod$6("intersperse",function intersperse(separator,list){var out=[];var idx=0;var length=list.length;while(idx<length){if(idx===length-1){out.push(list[idx])}else{out.push(list[idx],separator)}idx+=1}return out}));var _has$9=_has$1;var _objectAssign$1=function _objectAssign(target){var arguments$1=arguments;if(target==null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);var idx=1;var length=arguments.length;while(idx<length){var source=arguments$1[idx];if(source!=null){for(var nextKey in source){if(_has$9(nextKey,source)){output[nextKey]=source[nextKey]}}}idx+=1}return output};var _objectAssign=_objectAssign$1;var _assign$1=typeof Object.assign==="function"?Object.assign:_objectAssign;var _curry2$77=_curry2$1;var objOf$1=_curry2$77(function objOf(key,val){var obj={};obj[key]=val;return obj});var _assign=_assign$1;var _identity$3=_identity$1;var _isTransformer$4=_isTransformer$1;var isArrayLike$5=isArrayLike$1;var objOf=objOf$1;var _stepCat$1=function(){var _stepCatArray={"@@transducer/init":Array,"@@transducer/step":function(xs,x){xs.push(x);return xs},"@@transducer/result":_identity$3};var _stepCatString={"@@transducer/init":String,"@@transducer/step":function(a,b){return a+b},"@@transducer/result":_identity$3};var _stepCatObject={"@@transducer/init":Object,"@@transducer/step":function(result,input){return _assign(result,isArrayLike$5(input)?objOf(input[0],input[1]):input)},"@@transducer/result":_identity$3};return function _stepCat(obj){if(_isTransformer$4(obj)){return obj}if(isArrayLike$5(obj)){return _stepCatArray}if(typeof obj==="string"){return _stepCatString}if(typeof obj==="object"){return _stepCatObject}throw new Error("Cannot create transformer for "+obj)}}();var _clone$3=_clone$1;var _curry3$17=_curry3$1;var _isTransformer$3=_isTransformer$1;var _reduce$10=_reduce$1;var _stepCat=_stepCat$1;var into=_curry3$17(function into(acc,xf,list){return _isTransformer$3(acc)?_reduce$10(xf(acc),acc["@@transducer/init"](),list):_reduce$10(xf(_stepCat(acc)),_clone$3(acc,[],[],false),list)});var _curry1$31=_curry1$1;var _has$10=_has$1;var keys$8=keys$1;var invert=_curry1$31(function invert(obj){var props=keys$8(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];var val=obj[key];var list=_has$10(val,out)?out[val]:out[val]=[];list[list.length]=key;idx+=1}return out});var _curry1$32=_curry1$1;var keys$9=keys$1;var invertObj=_curry1$32(function invertObj(obj){var props=keys$9(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];out[obj[key]]=key;idx+=1}return out});var _curry2$78=_curry2$1;var _isFunction$5=_isFunction$1;var curryN$11=curryN$1;var toString$1=toString_1;var invoker=_curry2$78(function invoker(arity,method){return curryN$11(arity+1,function(){var target=arguments[arity];if(target!=null&&_isFunction$5(target[method])){return target[method].apply(target,Array.prototype.slice.call(arguments,0,arity))}throw new TypeError(toString$1(target)+' does not have a method named "'+method+'"')})});var _curry2$79=_curry2$1;var is=_curry2$79(function is(Ctor,val){return val!=null&&val.constructor===Ctor||val instanceof Ctor});var _curry1$33=_curry1$1;var empty$2=empty;var equals$6=equals$1;var isEmpty=_curry1$33(function isEmpty(x){return x!=null&&equals$6(x,empty$2(x))});var _curry1$34=_curry1$1;var isNil=_curry1$34(function isNil(x){return x==null});var invoker$2=invoker;var join=invoker$2(1,"join");var _curry1$35=_curry1$1;var converge$2=converge;var juxt=_curry1$35(function juxt(fns){return converge$2(function(){return Array.prototype.slice.call(arguments,0)},fns)});var _curry1$36=_curry1$1;var keysIn=_curry1$36(function keysIn(obj){var prop;var ks=[];for(prop in obj){ks[ks.length]=prop}return ks});var _curry2$80=_curry2$1;var _isArray$9=_isArray$1;var equals$7=equals$1;var lastIndexOf=_curry2$80(function lastIndexOf(target,xs){if(typeof xs.lastIndexOf==="function"&&!_isArray$9(xs)){return xs.lastIndexOf(target)}else{var idx=xs.length-1;while(idx>=0){if(equals$7(xs[idx],target)){return idx}idx-=1}return-1}});var _isNumber$1=function _isNumber(x){return Object.prototype.toString.call(x)==="[object Number]"};var _curry1$37=_curry1$1;var _isNumber=_isNumber$1;var length=_curry1$37(function length(list){return list!=null&&_isNumber(list.length)?list.length:NaN});var _curry2$81=_curry2$1;var map$10=map$1;var lens=_curry2$81(function lens(getter,setter){return function(toFunctorFn){return function(target){return map$10(function(focus){return setter(focus,target)},toFunctorFn(getter(target)))}}});var _curry3$18=_curry3$1;var adjust$2=adjust;var always$4=always$1;var update$3=_curry3$18(function update(idx,x,list){return adjust$2(always$4(x),idx,list)});var _curry1$38=_curry1$1;var lens$2=lens;var nth$4=nth$1;var update$2=update$3;var lensIndex=_curry1$38(function lensIndex(n){return lens$2(nth$4(n),update$2(n))});var _curry2$82=_curry2$1;var path$1=_curry2$82(function path(paths,obj){var val=obj;var idx=0;while(idx<paths.length){if(val==null){return}val=val[paths[idx]];idx+=1}return val});var _curry1$39=_curry1$1;var assocPath$2=assocPath;var lens$3=lens;var path=path$1;var lensPath=_curry1$39(function lensPath(p){return lens$3(path(p),assocPath$2(p))});var _curry1$40=_curry1$1;var assoc$4=assoc;var lens$4=lens;var prop$3=prop$1;var lensProp=_curry1$40(function lensProp(k){return lens$4(prop$3(k),assoc$4(k))});var _curry2$83=_curry2$1;var lt=_curry2$83(function lt(a,b){return a<b});var _curry2$84=_curry2$1;var lte=_curry2$84(function lte(a,b){return a<=b});var _curry3$19=_curry3$1;var mapAccum=_curry3$19(function mapAccum(fn,acc,list){var idx=0;var len=list.length;var result=[];var tuple=[acc];while(idx<len){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1];idx+=1}return[tuple[0],result]});var _curry3$20=_curry3$1;var mapAccumRight=_curry3$20(function mapAccumRight(fn,acc,list){var idx=list.length-1;var result=[];var tuple=[acc];while(idx>=0){tuple=fn(list[idx],tuple[0]);result[idx]=tuple[1];idx-=1}return[result,tuple[0]]});var _curry2$85=_curry2$1;var _reduce$11=_reduce$1;var keys$10=keys$1;var mapObjIndexed=_curry2$85(function mapObjIndexed(fn,obj){return _reduce$11(function(acc,key){acc[key]=fn(obj[key],key,obj);return acc},{},keys$10(obj))});var _curry2$86=_curry2$1;var match=_curry2$86(function match(rx,str){return str.match(rx)||[]});var _curry2$87=_curry2$1;var _isInteger$3=_isInteger$1;var mathMod=_curry2$87(function mathMod(m,p){if(!_isInteger$3(m)){return NaN}if(!_isInteger$3(p)||p<1){return NaN}return(m%p+p)%p});var _curry3$21=_curry3$1;var maxBy=_curry3$21(function maxBy(f,a,b){return f(b)>f(a)?b:a});var add$4=add;var reduce$9=reduce$1;var sum$1=reduce$9(add$4,0);var _curry1$41=_curry1$1;var sum=sum$1;var mean=_curry1$41(function mean(list){return sum(list)/list.length});var _curry1$42=_curry1$1;var mean$2=mean;var median=_curry1$42(function median(list){var len=list.length;if(len===0){return NaN}var width=2-len%2;var idx=(len-width)/2;return mean$2(Array.prototype.slice.call(list,0).sort(function(a,b){return a<b?-1:a>b?1:0}).slice(idx,idx+width))});var _arity$8=_arity$1;var _curry1$43=_curry1$1;var _has$11=_has$1;var toString$2=toString_1;var memoize=_curry1$43(function memoize(fn){var cache={};return _arity$8(fn.length,function(){var key=toString$2(arguments);if(!_has$11(key,cache)){cache[key]=fn.apply(this,arguments)}return cache[key]})});var _assign$3=_assign$1;var _curry2$88=_curry2$1;var merge=_curry2$88(function merge(l,r){return _assign$3({},l,r)});var _assign$4=_assign$1;var _curry1$44=_curry1$1;var mergeAll=_curry1$44(function mergeAll(list){return _assign$4.apply(null,[{}].concat(list))});var _curry3$23=_curry3$1;var _has$12=_has$1;var mergeWithKey$1=_curry3$23(function mergeWithKey(fn,l,r){var result={};var k;for(k in l){if(_has$12(k,l)){result[k]=_has$12(k,r)?fn(k,l[k],r[k]):l[k]}}for(k in r){if(_has$12(k,r)&&!_has$12(k,result)){result[k]=r[k]}}return result});var _curry3$22=_curry3$1;var mergeWithKey=mergeWithKey$1;var mergeWith=_curry3$22(function mergeWith(fn,l,r){return mergeWithKey(function(_,_l,_r){return fn(_l,_r)},l,r)});var _curry2$89=_curry2$1;var min=_curry2$89(function min(a,b){return b<a?b:a});var _curry3$24=_curry3$1;var minBy=_curry3$24(function minBy(f,a,b){return f(b)<f(a)?b:a});var _curry2$90=_curry2$1;var modulo=_curry2$90(function modulo(a,b){return a%b});var _curry2$91=_curry2$1;var multiply=_curry2$91(function multiply(a,b){return a*b});var _curry1$45=_curry1$1;var negate=_curry1$45(function negate(n){return-n});var _complement$3=_complement$1;var _curry2$92=_curry2$1;var _dispatchable$20=_dispatchable$1;var _xany$3=_xany$1;var any$2=any;var none=_curry2$92(_complement$3(_dispatchable$20(["any"],_xany$3,any$2)));var _curry1$46=_curry1$1;var curryN$12=curryN$1;var nth$5=nth$1;var nthArg=_curry1$46(function nthArg(n){var arity=n<0?1:n+1;return curryN$12(arity,function(){return nth$5(n,arguments)})});var _of$1=function _of(x){return[x]};var _curry1$47=_curry1$1;var _of=_of$1;var of=_curry1$47(_of);var _contains$7=_contains$1;var _curry2$93=_curry2$1;var omit=_curry2$93(function omit(names,obj){var result={};for(var prop in obj){if(!_contains$7(prop,names)){result[prop]=obj[prop]}}return result});var _arity$9=_arity$1;var _curry1$48=_curry1$1;var once=_curry1$48(function once(fn){var called=false;var result;return _arity$9(fn.length,function(){if(called){return result}called=true;result=fn.apply(this,arguments);return result})});var _curry3$25=_curry3$1;var over=function(){var Identity=function(x){return{value:x,map:function(f){return Identity(f(x))}}};return _curry3$25(function over(lens,f,x){return lens(function(y){return Identity(f(y))})(x).value})}();var _curry2$94=_curry2$1;var pair=_curry2$94(function pair(fst,snd){return[fst,snd]});var _arity$10=_arity$1;var _curry2$95=_curry2$1;var _createPartialApplicator$1=function _createPartialApplicator(concat){return _curry2$95(function(fn,args){return _arity$10(Math.max(0,fn.length-args.length),function(){return fn.apply(this,concat(args,arguments))})})};var _concat$7=_concat$1;var _createPartialApplicator=_createPartialApplicator$1;var partial=_createPartialApplicator(_concat$7);var _concat$8=_concat$1;var _createPartialApplicator$3=_createPartialApplicator$1;var flip$3=flip;var partialRight=_createPartialApplicator$3(flip$3(_concat$8));var filter$3=filter$1;var juxt$2=juxt;var reject$3=reject$1;var partition=juxt$2([filter$3,reject$3]);var _curry3$26=_curry3$1;var equals$8=equals$1;var path$3=path$1;var pathEq=_curry3$26(function pathEq(_path,val,obj){return equals$8(path$3(_path,obj),val)});var _curry3$27=_curry3$1;var defaultTo$2=defaultTo;var path$4=path$1;var pathOr=_curry3$27(function pathOr(d,p,obj){return defaultTo$2(d,path$4(p,obj))});var _curry3$28=_curry3$1;var path$5=path$1;var pathSatisfies=_curry3$28(function pathSatisfies(pred,propPath,obj){return propPath.length>0&&pred(path$5(propPath,obj))});var _curry2$96=_curry2$1;var pick=_curry2$96(function pick(names,obj){var result={};var idx=0;while(idx<names.length){if(names[idx]in obj){result[names[idx]]=obj[names[idx]]}idx+=1}return result});var _curry2$97=_curry2$1;var pickAll=_curry2$97(function pickAll(names,obj){var result={};var idx=0;var len=names.length;while(idx<len){var name=names[idx];result[name]=obj[name];idx+=1}return result});var _curry2$98=_curry2$1;var pickBy=_curry2$98(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop]}}return result});var composeK$2=composeK;var reverse$4=reverse$1;var pipeK=function pipeK(){if(arguments.length===0){throw new Error("pipeK requires at least one argument")}return composeK$2.apply(this,reverse$4(arguments))};var _concat$9=_concat$1;var _curry2$99=_curry2$1;var prepend=_curry2$99(function prepend(el,list){return _concat$9([el],list)});var multiply$2=multiply;var reduce$10=reduce$1;var product=reduce$10(multiply$2,1);var _curry2$100=_curry2$1;var curryN$13=curryN$1;var useWith$1=_curry2$100(function useWith(fn,transformers){return curryN$13(transformers.length,function(){var arguments$1=arguments;var this$1=this;var args=[];var idx=0;while(idx<transformers.length){args.push(transformers[idx].call(this$1,arguments$1[idx]));idx+=1}return fn.apply(this,args.concat(Array.prototype.slice.call(arguments,transformers.length)))})});var _map$5=_map$1;var identity$3=identity;var pickAll$2=pickAll;var useWith=useWith$1;var project=useWith(_map$5,[pickAll$2,identity$3]);var _curry3$29=_curry3$1;var equals$9=equals$1;var propEq=_curry3$29(function propEq(name,val,obj){return equals$9(val,obj[name])});var _curry3$30=_curry3$1;var is$2=is;var propIs=_curry3$30(function propIs(type,name,obj){return is$2(type,obj[name])});var _curry3$31=_curry3$1;var _has$13=_has$1;var propOr=_curry3$31(function propOr(val,p,obj){return obj!=null&&_has$13(p,obj)?obj[p]:val});var _curry3$32=_curry3$1;var propSatisfies=_curry3$32(function propSatisfies(pred,name,obj){return pred(obj[name])});var _curry2$101=_curry2$1;var props=_curry2$101(function props(ps,obj){var len=ps.length;var out=[];var idx=0;while(idx<len){out[idx]=obj[ps[idx]];idx+=1}return out});var _curry2$102=_curry2$1;var _isNumber$3=_isNumber$1;var range=_curry2$102(function range(from,to){if(!(_isNumber$3(from)&&_isNumber$3(to))){throw new TypeError("Both arguments to range must be numbers")}var result=[];var n=from;while(n<to){result.push(n);n+=1}return result});var _curry3$33=_curry3$1;var reduceRight=_curry3$33(function reduceRight(fn,acc,list){var idx=list.length-1;while(idx>=0){acc=fn(list[idx],acc);idx-=1}return acc});var _curryN$5=_curryN$1;var _reduce$12=_reduce$1;var _reduced$7=_reduced$1;var reduceWhile=_curryN$5(4,[],function _reduceWhile(pred,fn,a,list){return _reduce$12(function(acc,x){return pred(acc,x)?fn(acc,x):_reduced$7(acc)},a,list)});var _curry1$49=_curry1$1;var _reduced$8=_reduced$1;var reduced=_curry1$49(_reduced$8);var _curry3$34=_curry3$1;var remove$1=_curry3$34(function remove(start,count,list){var result=Array.prototype.slice.call(list,0);result.splice(start,count);return result});var _curry2$104=_curry2$1;var times$1=_curry2$104(function times(fn,n){var len=Number(n);var idx=0;var list;if(len<0||isNaN(len)){throw new RangeError("n must be a non-negative number")}list=new Array(len);while(idx<len){list[idx]=fn(idx);idx+=1}return list});var _curry2$103=_curry2$1;var always$5=always$1;var times=times$1;var repeat=_curry2$103(function repeat(value,n){return times(always$5(value),n)});var _curry3$35=_curry3$1;var replace=_curry3$35(function replace(regex,replacement,str){return str.replace(regex,replacement)});var _curry3$36=_curry3$1;var scan=_curry3$36(function scan(fn,acc,list){var idx=0;var len=list.length;var result=[acc];while(idx<len){acc=fn(acc,list[idx]);result[idx+1]=acc;idx+=1}return result});var _curry2$105=_curry2$1;var ap$3=ap;var map$11=map$1;var prepend$2=prepend;var reduceRight$2=reduceRight;var sequence=_curry2$105(function sequence(of,traversable){return typeof traversable.sequence==="function"?traversable.sequence(of):reduceRight$2(function(x,acc){return ap$3(map$11(prepend$2,x),acc)},of([]),traversable)});var _curry3$37=_curry3$1;var always$6=always$1;var over$2=over;var set=_curry3$37(function set(lens,v,x){return over$2(lens,always$6(v),x)});var _curry2$106=_curry2$1;var sort=_curry2$106(function sort(comparator,list){return Array.prototype.slice.call(list,0).sort(comparator)});var _curry2$107=_curry2$1;var sortBy=_curry2$107(function sortBy(fn,list){return Array.prototype.slice.call(list,0).sort(function(a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0})});var _curry2$108=_curry2$1;var sortWith=_curry2$108(function sortWith(fns,list){return Array.prototype.slice.call(list,0).sort(function(a,b){var result=0;var i=0;while(result===0&&i<fns.length){result=fns[i](a,b);i+=1}return result})});var invoker$3=invoker;var split=invoker$3(1,"split");var _curry2$109=_curry2$1;var length$2=length;var slice$6=slice$1;var splitAt=_curry2$109(function splitAt(index,array){return[slice$6(0,index,array),slice$6(index,length$2(array),array)]});var _curry2$110=_curry2$1;var slice$7=slice$1;var splitEvery=_curry2$110(function splitEvery(n,list){if(n<=0){throw new Error("First argument to splitEvery must be a positive integer")}var result=[];var idx=0;while(idx<list.length){result.push(slice$7(idx,idx+=n,list))}return result});var _curry2$111=_curry2$1;var splitWhen=_curry2$111(function splitWhen(pred,list){var idx=0;var len=list.length;var prefix=[];while(idx<len&&!pred(list[idx])){prefix.push(list[idx]);idx+=1}return[prefix,Array.prototype.slice.call(list,idx)]});var _curry2$112=_curry2$1;var subtract=_curry2$112(function subtract(a,b){return Number(a)-Number(b)});var _curry2$113=_curry2$1;var concat$2=concat;var difference$2=difference;var symmetricDifference=_curry2$113(function symmetricDifference(list1,list2){return concat$2(difference$2(list1,list2),difference$2(list2,list1))});var _curry3$38=_curry3$1;var concat$3=concat;var differenceWith$2=differenceWith;var symmetricDifferenceWith=_curry3$38(function symmetricDifferenceWith(pred,list1,list2){return concat$3(differenceWith$2(pred,list1,list2),differenceWith$2(pred,list2,list1))});var _curry2$114=_curry2$1;var drop$2=drop;var takeLast=_curry2$114(function takeLast(n,xs){return drop$2(n>=0?xs.length-n:0,xs)});var _curry2$115=_curry2$1;var takeLastWhile=_curry2$115(function takeLastWhile(fn,list){var idx=list.length-1;while(idx>=0&&fn(list[idx])){idx-=1}return Array.prototype.slice.call(list,idx+1)});var _curry2$117=_curry2$1;var _reduced$9=_reduced$1;var _xfBase$19=_xfBase$1;var _xtakeWhile$1=function(){function XTakeWhile(f,xf){this.xf=xf;this.f=f}XTakeWhile.prototype["@@transducer/init"]=_xfBase$19.init;XTakeWhile.prototype["@@transducer/result"]=_xfBase$19.result;XTakeWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):_reduced$9(result)};return _curry2$117(function _xtakeWhile(f,xf){return new XTakeWhile(f,xf)})}();var _curry2$116=_curry2$1;var _dispatchable$21=_dispatchable$1;var _xtakeWhile=_xtakeWhile$1;var takeWhile=_curry2$116(_dispatchable$21(["takeWhile"],_xtakeWhile,function takeWhile(fn,list){var idx=0;var len=list.length;while(idx<len&&fn(list[idx])){idx+=1}return Array.prototype.slice.call(list,0,idx)}));var _curry2$118=_curry2$1;var tap=_curry2$118(function tap(fn,x){fn(x);return x});var _isRegExp$1=function _isRegExp(x){return Object.prototype.toString.call(x)==="[object RegExp]"};var _cloneRegExp$3=_cloneRegExp$1;var _curry2$119=_curry2$1;var _isRegExp=_isRegExp$1;var toString$3=toString_1;var test=_curry2$119(function test(pattern,str){if(!_isRegExp(pattern)){throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+toString$3(pattern))}return _cloneRegExp$3(pattern).test(str)});var invoker$4=invoker;var toLower=invoker$4(0,"toLowerCase");var _curry1$50=_curry1$1;var _has$14=_has$1;var toPairs=_curry1$50(function toPairs(obj){var pairs=[];for(var prop in obj){if(_has$14(prop,obj)){pairs[pairs.length]=[prop,obj[prop]]}}return pairs});var _curry1$51=_curry1$1;var toPairsIn=_curry1$51(function toPairsIn(obj){var pairs=[];for(var prop in obj){pairs[pairs.length]=[prop,obj[prop]]}return pairs});var invoker$5=invoker;var toUpper=invoker$5(0,"toUpperCase");var _reduce$13=_reduce$1;var _xwrap$3=_xwrap$1;var curryN$14=curryN$1;var transduce=curryN$14(4,function transduce(xf,fn,acc,list){return _reduce$13(xf(typeof fn==="function"?_xwrap$3(fn):fn),acc,list)});var _curry1$52=_curry1$1;var transpose=_curry1$52(function transpose(outerlist){var i=0;var result=[];while(i<outerlist.length){var innerlist=outerlist[i];var j=0;while(j<innerlist.length){if(typeof result[j]==="undefined"){result[j]=[]}result[j].push(innerlist[j]);j+=1}i+=1}return result});var _curry3$39=_curry3$1;var map$12=map$1;var sequence$2=sequence;var traverse=_curry3$39(function traverse(of,f,traversable){return sequence$2(of,map$12(f,traversable))});var _curry1$53=_curry1$1;var trim=function(){var ws="	\n\f\r   ᠎    "+"         　\u2028"+"\u2029\ufeff";var zeroWidth="​";var hasProtoTrim=typeof String.prototype.trim==="function";if(!hasProtoTrim||(ws.trim()||!zeroWidth.trim())){return _curry1$53(function trim(str){var beginRx=new RegExp("^["+ws+"]["+ws+"]*");var endRx=new RegExp("["+ws+"]["+ws+"]*$");return str.replace(beginRx,"").replace(endRx,"")})}else{return _curry1$53(function trim(str){return str.trim()})}}();var _arity$11=_arity$1;var _concat$10=_concat$1;var _curry2$120=_curry2$1;var tryCatch=_curry2$120(function _tryCatch(tryer,catcher){return _arity$11(tryer.length,function(){try{return tryer.apply(this,arguments)}catch(e){return catcher.apply(this,_concat$10([e],arguments))}})});var _curry1$54=_curry1$1;var unapply=_curry1$54(function unapply(fn){return function(){return fn(Array.prototype.slice.call(arguments,0))}});var _curry1$55=_curry1$1;var nAry$4=nAry$1;var unary=_curry1$55(function unary(fn){return nAry$4(1,fn)});var _curry2$121=_curry2$1;var curryN$15=curryN$1;var uncurryN=_curry2$121(function uncurryN(depth,fn){return curryN$15(depth,function(){var arguments$1=arguments;var this$1=this;var currentDepth=1;var value=fn;var idx=0;var endIdx;while(currentDepth<=depth&&typeof value==="function"){endIdx=currentDepth===depth?arguments$1.length:idx+value.length;value=value.apply(this$1,Array.prototype.slice.call(arguments$1,idx,endIdx));currentDepth+=1;idx=endIdx}return value})});var _curry2$122=_curry2$1;var unfold=_curry2$122(function unfold(fn,seed){var pair=fn(seed);var result=[];while(pair&&pair.length){result[result.length]=pair[0];pair=fn(pair[1])}return result});var _concat$11=_concat$1;var _curry2$123=_curry2$1;var compose$3=compose;var uniq$3=uniq$1;var union=_curry2$123(compose$3(uniq$3,_concat$11));var _concat$12=_concat$1;var _curry3$40=_curry3$1;var uniqWith$3=uniqWith$1;var unionWith=_curry3$40(function unionWith(pred,list1,list2){return uniqWith$3(pred,_concat$12(list1,list2))});var _curry3$41=_curry3$1;var unless=_curry3$41(function unless(pred,whenFalseFn,x){return pred(x)?x:whenFalseFn(x)});var _identity$4=_identity$1;var chain$3=chain;var unnest=chain$3(_identity$4);var _curry3$42=_curry3$1;var until=_curry3$42(function until(pred,fn,init){var val=init;while(!pred(val)){val=fn(val)}return val});var _curry1$56=_curry1$1;var valuesIn=_curry1$56(function valuesIn(obj){var prop;var vs=[];for(prop in obj){vs[vs.length]=obj[prop]}return vs});var _curry2$124=_curry2$1;var view=function(){var Const=function(x){return{value:x,map:function(){return this}}};return _curry2$124(function view(lens,x){return lens(Const)(x).value})}();var _curry3$43=_curry3$1;var when=_curry3$43(function when(pred,whenTrueFn,x){return pred(x)?whenTrueFn(x):x});var _curry2$125=_curry2$1;var _has$15=_has$1;var where=_curry2$125(function where(spec,testObj){for(var prop in spec){if(_has$15(prop,spec)&&!spec[prop](testObj[prop])){return false}}return true});var _curry2$126=_curry2$1;var equals$10=equals$1;var map$13=map$1;var where$2=where;var whereEq=_curry2$126(function whereEq(spec,testObj){return where$2(map$13(equals$10,spec),testObj)});var _contains$8=_contains$1;var _curry2$127=_curry2$1;var flip$4=flip;var reject$4=reject$1;var without=_curry2$127(function(xs,list){return reject$4(flip$4(_contains$8)(xs),list)});var _curry2$128=_curry2$1;var xprod=_curry2$128(function xprod(a,b){var idx=0;var ilen=a.length;var j;var jlen=b.length;var result=[];while(idx<ilen){j=0;while(j<jlen){result[result.length]=[a[idx],b[j]];j+=1}idx+=1}return result});var _curry2$129=_curry2$1;var zip=_curry2$129(function zip(a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=[a[idx],b[idx]];idx+=1}return rv});var _curry2$130=_curry2$1;var zipObj=_curry2$130(function zipObj(keys,values){var idx=0;var len=Math.min(keys.length,values.length);var out={};while(idx<len){out[keys[idx]]=values[idx];idx+=1}return out});var _curry3$44=_curry3$1;var zipWith=_curry3$44(function zipWith(fn,a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=fn(a[idx],b[idx]);idx+=1}return rv});var index={F:F,T:T,__:__,add:add,addIndex:addIndex,adjust:adjust,all:all,allPass:allPass,always:always$1,and:and,any:any,anyPass:anyPass,ap:ap,aperture:aperture,append:append$1,apply:apply,applySpec:applySpec,ascend:ascend,assoc:assoc,assocPath:assocPath,binary:binary,bind:bind$1,both:both,call:call,chain:chain,clamp:clamp,clone:clone,comparator:comparator,complement:complement,compose:compose,composeK:composeK,composeP:composeP,concat:concat,cond:cond,construct:construct,constructN:constructN$1,contains:contains$1,converge:converge,countBy:countBy,curry:curry$1,curryN:curryN$1,dec:dec,descend:descend,defaultTo:defaultTo,difference:difference,differenceWith:differenceWith,dissoc:dissoc,dissocPath:dissocPath,divide:divide,drop:drop,dropLast:dropLast,dropLastWhile:dropLastWhile,dropRepeats:dropRepeats,
dropRepeatsWith:dropRepeatsWith$1,dropWhile:dropWhile,either:either,empty:empty,eqBy:eqBy,eqProps:eqProps,equals:equals$1,evolve:evolve,filter:filter$1,find:find,findIndex:findIndex,findLast:findLast,findLastIndex:findLastIndex,flatten:flatten,flip:flip,forEach:forEach,forEachObjIndexed:forEachObjIndexed,fromPairs:fromPairs,groupBy:groupBy,groupWith:groupWith,gt:gt,gte:gte,has:has,hasIn:hasIn,head:head,identical:identical$1,identity:identity,ifElse:ifElse,inc:inc,indexBy:indexBy,indexOf:indexOf,init:init,insert:insert$1,insertAll:insertAll,intersection:intersection,intersectionWith:intersectionWith,intersperse:intersperse,into:into,invert:invert,invertObj:invertObj,invoker:invoker,is:is,isArrayLike:isArrayLike$1,isEmpty:isEmpty,isNil:isNil,join:join,juxt:juxt,keys:keys$1,keysIn:keysIn,last:last$1,lastIndexOf:lastIndexOf,length:length,lens:lens,lensIndex:lensIndex,lensPath:lensPath,lensProp:lensProp,lift:lift$1,liftN:liftN$1,lt:lt,lte:lte,map:map$1,mapAccum:mapAccum,mapAccumRight:mapAccumRight,mapObjIndexed:mapObjIndexed,match:match,mathMod:mathMod,max:max$1,maxBy:maxBy,mean:mean,median:median,memoize:memoize,merge:merge,mergeAll:mergeAll,mergeWith:mergeWith,mergeWithKey:mergeWithKey$1,min:min,minBy:minBy,modulo:modulo,multiply:multiply,nAry:nAry$1,negate:negate,none:none,not:not$1,nth:nth$1,nthArg:nthArg,objOf:objOf$1,of:of,omit:omit,once:once,or:or$1,over:over,pair:pair,partial:partial,partialRight:partialRight,partition:partition,path:path$1,pathEq:pathEq,pathOr:pathOr,pathSatisfies:pathSatisfies,pick:pick,pickAll:pickAll,pickBy:pickBy,pipe:pipe$1,pipeK:pipeK,pipeP:pipeP$1,pluck:pluck$1,prepend:prepend,product:product,project:project,prop:prop$1,propEq:propEq,propIs:propIs,propOr:propOr,propSatisfies:propSatisfies,props:props,range:range,reduce:reduce$1,reduceBy:reduceBy$1,reduceRight:reduceRight,reduceWhile:reduceWhile,reduced:reduced,reject:reject$1,remove:remove$1,repeat:repeat,replace:replace,reverse:reverse$1,scan:scan,sequence:sequence,set:set,slice:slice$1,sort:sort,sortBy:sortBy,sortWith:sortWith,split:split,splitAt:splitAt,splitEvery:splitEvery,splitWhen:splitWhen,subtract:subtract,sum:sum$1,symmetricDifference:symmetricDifference,symmetricDifferenceWith:symmetricDifferenceWith,tail:tail$1,take:take$1,takeLast:takeLast,takeLastWhile:takeLastWhile,takeWhile:takeWhile,tap:tap,test:test,times:times$1,toLower:toLower,toPairs:toPairs,toPairsIn:toPairsIn,toString:toString_1,toUpper:toUpper,transduce:transduce,transpose:transpose,traverse:traverse,trim:trim,tryCatch:tryCatch,type:type$1,unapply:unapply,unary:unary,uncurryN:uncurryN,unfold:unfold,union:union,unionWith:unionWith,uniq:uniq$1,uniqBy:uniqBy$1,uniqWith:uniqWith$1,unless:unless,unnest:unnest,until:until,update:update$3,useWith:useWith$1,values:values$1,valuesIn:valuesIn,view:view,when:when,where:where,whereEq:whereEq,without:without,xprod:xprod,zip:zip,zipObj:zipObj,zipWith:zipWith};riot$1.tag2("comment",'<div class="comment centered"> <div class="card"> <div class="card-header"> <h4 class="card-title">{title} by {author}</h4> </div> <div class="card-body comment-body"> {R.join(⁗ ⁗)(R.repeat(text, 20))} </div> </div> </div>',"","",function(opts){this.R=index});riot$1.tag2("bbutton",'<button class="btn rounded-button"> </button>',"","",function(opts){});var RE_ORIGIN=/^.+?\/\/+[^\/]+/;var EVENT_LISTENER="EventListener";var REMOVE_EVENT_LISTENER="remove"+EVENT_LISTENER;var ADD_EVENT_LISTENER="add"+EVENT_LISTENER;var HAS_ATTRIBUTE="hasAttribute";var POPSTATE="popstate";var HASHCHANGE="hashchange";var TRIGGER="trigger";var MAX_EMIT_STACK_LEVEL=3;var win=typeof window!="undefined"&&window;var doc=typeof document!="undefined"&&document;var hist=win&&history;var loc=win&&(hist.location||win.location);var prot=Router.prototype;var clickEvent=doc&&doc.ontouchstart?"touchstart":"click";var central=observable$1();var started=false;var routeFound=false;var debouncedEmit;var base;var current;var parser;var secondParser;var emitStack=[];var emitStackLevel=0;function DEFAULT_PARSER(path){return path.split(/[\/?#]/)}function DEFAULT_SECOND_PARSER(path,filter){var f=filter.replace(/\?/g,"\\?").replace(/\*/g,"([^/?#]+?)").replace(/\.\./,".*");var re=new RegExp("^"+f+"$");var args=path.match(re);if(args){return args.slice(1)}}function debounce(fn,delay){var t;return function(){clearTimeout(t);t=setTimeout(fn,delay)}}function start(autoExec){debouncedEmit=debounce(emit,1);win[ADD_EVENT_LISTENER](POPSTATE,debouncedEmit);win[ADD_EVENT_LISTENER](HASHCHANGE,debouncedEmit);doc[ADD_EVENT_LISTENER](clickEvent,click);if(autoExec){emit(true)}}function Router(){this.$=[];observable$1(this);central.on("stop",this.s.bind(this));central.on("emit",this.e.bind(this))}function normalize(path){return path.replace(/^\/|\/$/,"")}function isString$1(str){return typeof str=="string"}function getPathFromRoot(href){return(href||loc.href).replace(RE_ORIGIN,"")}function getPathFromBase(href){return base[0]==="#"?(href||loc.href||"").split(base)[1]||"":(loc?getPathFromRoot(href):href||"").replace(base,"")}function emit(force){var isRoot=emitStackLevel===0;if(MAX_EMIT_STACK_LEVEL<=emitStackLevel){return}emitStackLevel++;emitStack.push(function(){var path=getPathFromBase();if(force||path!==current){central[TRIGGER]("emit",path);current=path}});if(isRoot){var first;while(first=emitStack.shift()){first()}emitStackLevel=0}}function click(e){if(e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented){return}var el=e.target;while(el&&el.nodeName!=="A"){el=el.parentNode}if(!el||el.nodeName!=="A"||el[HAS_ATTRIBUTE]("download")||!el[HAS_ATTRIBUTE]("href")||el.target&&el.target!=="_self"||el.href.indexOf(loc.href.match(RE_ORIGIN)[0])===-1){return}if(el.href!==loc.href&&(el.href.split("#")[0]===loc.href.split("#")[0]||base[0]!=="#"&&getPathFromRoot(el.href).indexOf(base)!==0||base[0]==="#"&&el.href.split(base)[0]!==loc.href.split(base)[0]||!go(getPathFromBase(el.href),el.title||doc.title))){return}e.preventDefault()}function go(path,title,shouldReplace){if(!hist){return central[TRIGGER]("emit",getPathFromBase(path))}path=base+normalize(path);title=title||doc.title;shouldReplace?hist.replaceState(null,title,path):hist.pushState(null,title,path);doc.title=title;routeFound=false;emit();return routeFound}prot.m=function(first,second,third){if(isString$1(first)&&(!second||isString$1(second))){go(first,second,third||false)}else if(second){this.r(first,second)}else{this.r("@",first)}};prot.s=function(){this.off("*");this.$=[]};prot.e=function(path){this.$.concat("@").some(function(filter){var args=(filter==="@"?parser:secondParser)(normalize(path),normalize(filter));if(typeof args!="undefined"){this[TRIGGER].apply(null,[filter].concat(args));return routeFound=true}},this)};prot.r=function(filter,action){if(filter!=="@"){filter="/"+normalize(filter);this.$.push(filter)}this.on(filter,action)};var mainRouter=new Router;var route=mainRouter.m.bind(mainRouter);route.create=function(){var newSubRouter=new Router;var router=newSubRouter.m.bind(newSubRouter);router.stop=newSubRouter.s.bind(newSubRouter);return router};route.base=function(arg){base=arg||"#";current=getPathFromBase()};route.exec=function(){emit(true)};route.parser=function(fn,fn2){if(!fn&&!fn2){parser=DEFAULT_PARSER;secondParser=DEFAULT_SECOND_PARSER}if(fn){parser=fn}if(fn2){secondParser=fn2}};route.query=function(){var q={};var href=loc.href||current;href.replace(/[?&](.+?)=([^&]*)/g,function(_,k,v){q[k]=v});return q};route.stop=function(){if(started){if(win){win[REMOVE_EVENT_LISTENER](POPSTATE,debouncedEmit);win[REMOVE_EVENT_LISTENER](HASHCHANGE,debouncedEmit);doc[REMOVE_EVENT_LISTENER](clickEvent,click)}central[TRIGGER]("stop");started=false}};route.start=function(autoExec){if(!started){if(win){if(document.readyState==="complete"){start(autoExec)}else{win[ADD_EVENT_LISTENER]("load",function(){setTimeout(function(){start(autoExec)},1)})}}started=true}};route.base();route.parser();riot$1.tag2("post",'<div class="postnav centered"> <button class="{⁗btn btn-primary ⁗ + (this.pid <= 1 ? ⁗disabled⁗ : ⁗ ⁗) + this.prevloading}" onclick="{this.prev}">Last One</button> <button class="{⁗btn btn-primary ⁗ + (this.nomore ? ⁗disabled⁗ : ⁗ ⁗) + this.nextloading}" onclick="{this.next}">Next One</button> </div> <h4 class="post centered" if="{nomore}"> No More Posts! </h4> <div if="{!(this.loading || this.nomore)}" class="post centered"> <h4>{opts.title}</h4> <h5>By {opts.creator}</h5> <p class="post-content centered text-break">{this.content}</p> <div class="divider"></div> <comments pid="{pid}"> </comments> </div>',"","",function(opts){var self=this;this.loading=false;this.prevloading="";this.nextloading="";this.nomore=false;this.pid=1;this.content="";this.prev=function(ev){ev.preventDefault();if(self.prevloading||self.nextloading){return}self.prevloading=" loading";if(self.nomore){self.nomore=false}if(self.pid>1){self.pid--;self.setPost(self.pid);self.update()}}.bind(this);this.next=function(ev){console.log("next event fired");ev.preventDefault();if(self.nextloading||self.prevloading){return}self.nextloading=" loading";console.log(self.pid);console.log(self.nomore);if(!self.nomore){self.pid++;self.setPost(self.pid);self.update()}}.bind(this);this.setPost=function(pid){console.log("trying to change the post");console.log(fetch);this.update();console.log("updated");this.loading=true;fetch("/blog/switchpost/"+pid).then(function(resp){console.log("got a response");return resp.text()}).then(function(body){if(body==="false"){self.nomore=true;route("/");self.update()}else{self.content=index.join(" ")(index.repeat(body,20));route("/"+pid)}self.loading=false;self.prevloading="";self.nextloading="";self.update()})};this.on("mount",function(){this.setPost(self.pid)})});riot$1.tag2("posts","<yield></yield>","","",function(opts){});riot$1.mount("post",{creator:"wes",title:"A cool post here"});riot$1.mount("bbutton")})();